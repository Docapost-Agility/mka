{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mka.min.js","webpack:///webpack/bootstrap 94c5a8025a6923b5660e","webpack:///./src/js/main.js","webpack:///./src/js/dbClick.js","webpack:///./src/js/rightClick.js","webpack:///./src/js/DragAndDrop.js","webpack:///./src/js/select.js","webpack:///./src/js/copyPaste.js","webpack:///./src/js/count.js","webpack:///./src/js/arrows.js","webpack:///./src/js/deleteShortcut.js","webpack:///./src/js/selectAllShortcut.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","default","_dbClick","dbClick","_rightClick","rightClick","_DragAndDrop","dndHandler","_select","select","_copyPaste","copyPaste","_count","count","_arrows","arrows","_deleteShortcut","deleteShortcut","_selectAllShortcut","selectAllShortcut","defaultConfigs","eltsSelectable","eltSelectedClass","eltSelectingClass","onDragItemClass","dragNdrop","droppableElements","lasso","pasteFunction","items","console","log","longPressDelay","dbClickDelay","onSelectionUpdate","updateSelection","container","newSelection","actionId","configs","mkaParams","components","selectables","sameSelection","selection","length","forEach","elt","indexOf","classList","remove","add","params","parentFunctions","getPublicFunctions","component","getConfigs","clientConfigs","keys","pushComponents","push","isMobileDevice","customProperties","getContainer","setProperty","value","getProperty","elementIsSelected","contains","parentNode","getSelectableElement","getSelectablesElements","getLastSelectedInDom","last","offsetTop","offsetLeft","getSelection","copy","removeElements","elements","index","splice","removeChild","isMkaContainerFocused","target","getScrollableContainer","childElement","scrollableContainer","currentElt","scrollHeight","offsetHeight","scrollWidth","offsetWidth","document","body","initComponents","init","bindEvents","publicFunctions","bindComponentsEvents","eventName","saveIfAlreadyExists","event","stop","forceStop","mouseEventsList","mouseEventsTargets","window","keyEventsList","mouseEventTarget","mouseEventName","keyEventName","refreshComponents","refresh","updateSelectableElements","mkaSelectable","mkaRefresh","newSelectables","slice","querySelectorAll","listenContainerDOMChange","containsSelectableElement","node","selectablesNodes","item","MutationObserver","mutations","needToRefresh","mutation","addedNodes","removedNodes","observe","childList","subtree","addEventListener","setTimeout","check","a","test","substr","navigator","userAgent","vendor","opera","HTMLElement","mkaInit","style","userSelect","getOffsetBody","offsetType","offset","offsetParent","offsetBodyLeft","offsetBodyTop","offsetBodyRight","offsetBodyBottom","getScrollTotal","scrollType","scroll","undefined","scrollTopTotal","scrollLeftTotal","bindMobileDevice","conf","mkaEvents","ondblclick","e","launchDbClick","currentDate","Date","lastTouchDate","touches","preventDefault","element","customStyle","createElement","setAttribute","innerHTML","head","insertBefore","firstChild","menuIsOpen","bindContextMenu","windowEvents","onkeydown","code","which","onclick","removeMkaRcMenu","getElementById","display","menu","getMkaRcMenu","setMenuPosition","selectableParent","containerWidth","containerHeight","left","pageX","top","pageY","parentWidth","parentHeight","leftDiffToParent","topDiffToParent","right","bottom","position","zIndex","appendChild","selectableElement","htmlMenu","bindDragEvents","bindDropEvents","draggable","onmousedown","documentEvents","onmousemove","isDragging","onmouseup","innerCode","wrapper","wrapperSize","id","width","setWrapperStyle","dataTransfer","setDragImage","setData","outerHTML","dropper","wrapperChildren","children","childDistance","opacity","child","color","backgroundColor","border","padding","textAlign","span","height","lineHeight","borderRadius","squareId","Math","floor","random","square","downX","downY","upX","upY","squareElt","y1","x1","x2","y2","isVisble","isCrossingElt","scrollTop","scrollLeft","elementIsCrossingZone","shiftKey","selectableElements","focusedElementIndex","elementIndex","firstIndex","min","lastIndex","max","ctrlKey","eltIndex","orderCoordinate","endLasso","isInLasso","refreshLasso","clearSelecting","selectableElt","lastSelection","selecting","pushSelectingElements","dateStart","eltSelectable","selectLassoItems","mkaElts","rect","getBoundingClientRect","zoneElt","onkeyup","calculateNextElement","lastSelected","centerScroll","scrollY","innerHeight","scrollX","innerWidth","scrollTo","nextElement","newElements","searchNextElement","concat","firstElement","fromElement","selectablesElements","indexElt","posX","posY","updateY","getNextElement","elementFromPoint"],"mappings":"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","file":"mka.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _dbClick = __webpack_require__(1);\n\nvar dbClick = _interopRequireWildcard(_dbClick);\n\nvar _rightClick = __webpack_require__(2);\n\nvar rightClick = _interopRequireWildcard(_rightClick);\n\nvar _DragAndDrop = __webpack_require__(3);\n\nvar dndHandler = _interopRequireWildcard(_DragAndDrop);\n\nvar _select = __webpack_require__(4);\n\nvar select = _interopRequireWildcard(_select);\n\nvar _copyPaste = __webpack_require__(5);\n\nvar copyPaste = _interopRequireWildcard(_copyPaste);\n\nvar _count = __webpack_require__(6);\n\nvar count = _interopRequireWildcard(_count);\n\nvar _arrows = __webpack_require__(7);\n\nvar arrows = _interopRequireWildcard(_arrows);\n\nvar _deleteShortcut = __webpack_require__(8);\n\nvar deleteShortcut = _interopRequireWildcard(_deleteShortcut);\n\nvar _selectAllShortcut = __webpack_require__(9);\n\nvar selectAllShortcut = _interopRequireWildcard(_selectAllShortcut);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"lasso\": true,\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": function pasteFunction(items) {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n};\n\nvar _updateSelection = function _updateSelection(container, newSelection, actionId) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n    var selectables = container.mkaParams.selectables;\n\n    var sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(function (elt) {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(function (elt) {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(function (elt) {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        var params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        };\n        components.forEach(function (component) {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n};\n\nvar getConfigs = function getConfigs(clientConfigs) {\n    var configs = {};\n    Object.keys(defaultConfigs).forEach(function (i) {\n        configs[i] = typeof clientConfigs[i] !== 'undefined' ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n};\n\nvar pushComponents = function pushComponents(container) {\n    var configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n};\n\nvar getPublicFunctions = function getPublicFunctions(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: function getContainer() {\n            return container;\n        },\n        setProperty: function setProperty(key, value) {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: function getProperty(key) {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: function elementIsSelected(elt) {\n            if (elt && elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: function getSelectableElement(elt) {\n            var selectables = container.mkaParams.selectables;\n            if (elt && elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: function getSelectablesElements() {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: function getLastSelectedInDom() {\n            var last = null;\n            container.mkaParams.selection.forEach(function (elt) {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: function getSelection() {\n            var copy = [];\n            container.mkaParams.selection.forEach(function (elt) {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: function updateSelection(newSelection, actionId) {\n            _updateSelection(container, newSelection, actionId);\n        },\n        removeElements: function removeElements(elements) {\n            elements.forEach(function (elt) {\n                var index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(function (component) {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: function isMkaContainerFocused(target) {\n            if (target === container) {\n                return true;\n            }\n            while (target.parentNode) {\n                target = target.parentNode;\n                if (target === container) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getScrollableContainer: function getScrollableContainer(childElement) {\n            var scrollableContainer = null;\n            var currentElt = childElement;\n            while (!!currentElt.parentNode && !scrollableContainer) {\n                currentElt = currentElt.parentNode;\n                if (currentElt.scrollHeight > currentElt.offsetHeight + 30 || currentElt.scrollWidth > currentElt.offsetWidth || currentElt === document.body) {\n                    scrollableContainer = currentElt;\n                }\n            }\n            return scrollableContainer;\n        }\n    };\n};\n\nvar initComponents = function initComponents(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n};\n\nvar bindEvents = function bindEvents(container) {\n    var publicFunctions = getPublicFunctions(container);\n    var components = container.mkaParams.components;\n\n    var bindComponentsEvents = function bindComponentsEvents(target, eventName) {\n        var saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = function (event) {\n            var stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(function (component) {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return { forceStop: stop };\n        };\n    };\n\n    var mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    var mouseEventsTargets = [{ name: \"windowEvents\", value: window }, { name: \"documentEvents\", value: document.body }, { name: \"mkaEvents\", value: container }];\n\n    var keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(function (mouseEventTarget) {\n        mouseEventsList.forEach(function (mouseEventName) {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(function (keyEventName) {\n        bindComponentsEvents({ name: \"windowEvents\", value: window }, keyEventName);\n    });\n};\n\nvar refreshComponents = function refreshComponents(container) {\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs);\n    });\n};\n\nvar updateSelectableElements = function updateSelectableElements(container, elements) {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(function (elt) {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(function (elt) {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n};\n\nvar mkaRefresh = function mkaRefresh(container) {\n    var newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    var newSelection = [];\n    container.mkaParams.selection.forEach(function (elt) {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    _updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n};\n\nvar listenContainerDOMChange = function listenContainerDOMChange(container) {\n    var containsSelectableElement = function containsSelectableElement(node) {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        var parentNode = node.parentNode;\n        if (parentNode) {\n            var selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (var i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n    };\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            var needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (var i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (var _i = 0; _i < mutation.removedNodes.length; _i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(_i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, { childList: true, subtree: true });\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n};\n\nvar isMobileDevice = function isMobileDevice() {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    var container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    var configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    var selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    var container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n};\n\nvar getOffsetBody = function getOffsetBody(elt, offsetType) {\n    var offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n};\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n};\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n};\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n};\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n};\n\nvar getScrollTotal = function getScrollTotal(elt, scrollType) {\n    var scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n};\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n};\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    ondblclick: function ondblclick(e, parentFunctions, conf) {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (e) {\n        var currentDate = new Date();\n        var lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && currentDate - lastTouchDate < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n};\n\nvar launchDbClick = function launchDbClick(e, parentFunctions, conf) {\n    var element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar mkarcmenuId = 'mkarcmenu';\nvar menuContainerClass = \"menu-container\";\n\nvar customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + menuContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nvar init = exports.init = function init(conf, parentFunctions) {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(event) {\n        var code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: function onclick(event) {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n};\n\nvar menuIsOpen = function menuIsOpen() {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n};\n\nvar removeMkaRcMenu = function removeMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n};\n\nvar getMkaRcMenu = function getMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n    }\n    return menu;\n};\n\nvar setMenuPosition = function setMenuPosition(menu, event, parentFunctions) {\n\n    var scrollableContainer = parentFunctions.getScrollableContainer(event.target);\n    var selectableParent = parentFunctions.getSelectableElement(event.target);\n\n    if (!scrollableContainer) {\n        scrollableContainer = parentFunctions.getContainer();\n    }\n\n    if (!selectableParent) {\n        selectableParent = parentFunctions.getContainer();\n    }\n\n    if (!scrollableContainer.classList.contains(menuContainerClass)) {\n        scrollableContainer.classList.add(menuContainerClass);\n    }\n\n    var containerWidth = scrollableContainer.offsetWidth;\n    var containerHeight = scrollableContainer.offsetHeight;\n    var left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    var top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n    var parentWidth = selectableParent.offsetWidth;\n    var parentHeight = selectableParent.offsetHeight;\n    var leftDiffToParent = event.pageX - (selectableParent.offsetBodyLeft() - selectableParent.scrollLeftTotal() + document.body.scrollLeftTotal());\n    var topDiffToParent = event.pageY - (selectableParent.offsetBodyTop() - selectableParent.scrollTopTotal() + document.body.scrollTopTotal());\n\n    if (leftDiffToParent < 3 * parentWidth / 4) {\n        menu.style.left = left + 'px';\n        menu.style.right = \"auto\";\n    } else {\n        menu.style.right = containerWidth - left + 'px';\n        menu.style.left = \"auto\";\n    }\n\n    if (topDiffToParent < 3 * parentHeight / 4) {\n        menu.style.top = top + 'px';\n        menu.style.bottom = \"auto\";\n    } else {\n        menu.style.bottom = containerHeight - top + 'px';\n        menu.style.top = \"auto\";\n    }\n\n    menu.style.position = 'absolute';\n    menu.style.display = 'block';\n    menu.style.zIndex = '20000';\n\n    scrollableContainer.appendChild(menu);\n};\n\nvar bindContextMenu = function bindContextMenu(conf, parentFunctions) {\n\n    // On dsactive le click droit sur l'lment principal\n    parentFunctions.getContainer().addEventListener('contextmenu', function (event) {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        var selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'lment n'est pas slectionn, on restreint la slection  ce seul lment\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        var selection = parentFunctions.getSelection();\n\n        var menu = getMkaRcMenu();\n        var htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event, parentFunctions);\n    });\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', function () {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    var elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(function (elt) {\n        bindDragEvents(elt, parentFunctions, conf);\n    });\n\n    if (conf.droppableElements) {\n        var droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(function (elt) {\n            return bindDropEvents(elt, parentFunctions, conf);\n        });\n    }\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    params.selectables.forEach(function (elt) {\n        elt.draggable = false;\n    });\n    params.selection.forEach(function (elt) {\n        elt.draggable = true;\n    });\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions) {\n        var isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmouseup: function onmouseup(event, parentFunctions) {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nvar bindDragEvents = function bindDragEvents(element, parentFunctions, conf) {\n\n    element.addEventListener('dragstart', function (e) {\n        // On recupere les lts slectionns\n        var selection = parentFunctions.getSelection();\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach(function (elt) {\n            return elt.classList.add(\"on-drag\");\n        });\n\n        var innerCode = \"\";\n        var wrapper = document.createElement('div');\n        var wrapperSize = selection[0].scrollWidth;\n\n        //On rajoute le code html de chaque lments dans une variable\n        //Chaque lment possde une div parente (Ncessaire lorsque le wrapper passe dans setWrapperStyle)\n        selection.forEach(function (elt) {\n            innerCode += '<div> ' + elt.innerHTML + ' </div>';\n        });\n\n        //On set le innerHTML avec tous les lments rcuprs prcedemment\n        wrapper.innerHTML = innerCode;\n        wrapper.id = \"wrapper-drag\";\n        wrapper.style.width = wrapperSize + \"px\";\n\n        //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"-10000px\";\n\n        wrapper = setWrapperStyle(wrapper, conf);\n\n        document.body.appendChild(wrapper);\n\n        e.dataTransfer.setDragImage(wrapper, 0, 0);\n\n        e.dataTransfer.setData('text/plain', '');\n    });\n\n    element.addEventListener('dragend', function (e) {\n        var selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n\n        // on retire la class\n        selection.forEach(function (elt) {\n            return elt.classList.remove(\"on-drag\");\n        });\n    });\n};\n\nvar bindDropEvents = function bindDropEvents(dropper, parentFunctions, conf) {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la slection sur la zone dropable\n        // on execute l'action dfini par l'utilsateur\n        var selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n};\n\nvar setWrapperStyle = function setWrapperStyle(wrapper, conf) {\n    //On rcupre les lments enfants du wrapper qui servira pour le drag\n    var wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui sparera les lments en fonction du nombre d'lments dans la liste\n    var childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque lment du wrapper\n    for (var i = 0; i < wrapperChildren.length; i++) {\n        var child = wrapperChildren[i];\n\n        //Si l'utilisateur a configur le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par dfaut si l'utilisateur n'a pas configur le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque lment a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le dcalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = i * childDistance + \"px\";\n        child.style.left = i * childDistance + \"px\";\n\n        //Lorsqu'on parcourt le dernier lment et qu'il y a plus d'un lement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On cre une span qui contiendra le nombre d'lements selectionns\n            var span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configur le onDragItemClass alors on applique un style par dfaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar lassoContainerClass = \"lasso-container\";\n\nvar customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + lassoContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    var squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    var square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: function get() {\n            var squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.backgroundColor = \"rgba(255,0,0,0.5)\";\n                squareElt.style.border = \"1px solid rgba(255,0,0,0.8)\";\n                squareElt.style.display = \"none\";\n            }\n            return squareElt;\n        },\n        refresh: function refresh() {\n            var squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = square.x2 - square.x1 + \"px\";\n            squareElt.style.height = square.y2 - square.y1 + \"px\";\n        },\n        remove: function remove() {\n            square.get().remove();\n        },\n        isVisble: function isVisble() {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: function isCrossingElt(elt) {\n            var container = parentFunctions.getContainer();\n            var scrollTop = container.scrollTopTotal() - document.body.scrollTopTotal();\n            var scrollLeft = container.scrollLeftTotal() - document.body.scrollLeftTotal();\n            return elementIsCrossingZone(elt, square.x1 + scrollLeft, square.y1, square.x2 + scrollLeft, square.y2 + scrollTop, parentFunctions);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        // On dmarre la slection si on utilise le bouton gauche de la souris\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                var square = parentFunctions.getProperty('square');\n                var scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n\n                if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n                    scrollableContainer.classList.add(lassoContainerClass);\n                }\n\n                var left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n                var top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n                // zone du click\n                square.downX = +left;\n                square.downY = +top;\n                square.upX = +left;\n                square.upY = +top;\n                scrollableContainer.appendChild(square.get());\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                var selectableElements = parentFunctions.getSelectablesElements();\n                var selection = parentFunctions.getSelection();\n                var newSelection = [];\n\n                var element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    var focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        var elementIndex = selectableElements.indexOf(element);\n                        var firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        var lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey) {\n                            selection.forEach(function (elt) {\n                                var eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (var i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: function ondblclick(event, parentFunctions, conf) {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions, conf) {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            var isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(event, parentFunctions, conf) {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                var selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    var lastSelection = parentFunctions.getSelection();\n                    var index = lastSelection.indexOf(selectableElt);\n                    var newSelection = [selectableElt];\n\n                    if (event.ctrlKey || conf.isMobileDevice && index !== -1) {\n                        newSelection = lastSelection;\n                        if (index !== -1) {\n                            newSelection.splice(index, 1);\n                        } else {\n                            newSelection.push(selectableElt);\n                        }\n                    }\n\n                    var selecting = [];\n                    newSelection.forEach(function (elt) {\n                        selecting.push(elt);\n                        elt.classList.add(conf.eltSelectingClass);\n                    });\n                    parentFunctions.setProperty('selecting', selecting);\n                } else if (!event.ctrlKey) {\n                    parentFunctions.updateSelection([]);\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: function onmouseup(event, parentFunctions, conf) {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n        var dateStart = new Date();\n        parentFunctions.setProperty('select.startLongPress', dateStart);\n        setTimeout(function () {\n            if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                var selection = parentFunctions.getSelection();\n                var eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                if (eltSelectable) {\n                    var indexElt = selection.indexOf(eltSelectable);\n                    if (indexElt === -1) {\n                        selection.push(eltSelectable);\n                    }\n                    parentFunctions.updateSelection(selection);\n                }\n            }\n        }, conf.longPressDelay);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', function () {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchmove', function () {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n};\n\nvar refreshLasso = function refreshLasso(event, parentFunctions, conf) {\n    var square = parentFunctions.getProperty('square');\n    var scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    var left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    var top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n    square.upX = +left;\n    square.upY = +top;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey, square, parentFunctions, conf);\n    square.refresh();\n};\n\nvar endLasso = function endLasso(parentFunctions, conf) {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n};\n\nvar pushSelectingElements = function pushSelectingElements(parentFunctions, conf) {\n    if (parentFunctions.getProperty('selecting').length) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n};\n\nvar clearSelecting = function clearSelecting(parentFunctions, conf) {\n    parentFunctions.getProperty('selecting').forEach(function (elt) {\n        elt.classList.remove(conf.eltSelectingClass);\n    });\n    parentFunctions.setProperty('selecting', []);\n};\n\nvar orderCoordinate = function orderCoordinate(square) {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n};\n\nvar selectLassoItems = function selectLassoItems(ctrlKey, square, parentFunctions, conf) {\n    var mkaElts = parentFunctions.getSelectablesElements();\n\n    var selecting = ctrlKey ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionn\n    mkaElts.forEach(function (elt) {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n};\n\nvar elementIsCrossingZone = function elementIsCrossingZone(elt, x1, y1, x2, y2, parentFunctions) {\n    var rect = elt.getBoundingClientRect();\n    var scrollableContainer = parentFunctions.getScrollableContainer(elt) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    var zoneElt = {\n        x1: elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft(),\n        x2: elt.offsetBodyLeft() + rect.width - scrollableContainer.offsetBodyLeft(),\n        y1: elt.offsetBodyTop() - scrollableContainer.offsetBodyTop(),\n        y2: elt.offsetBodyTop() + rect.height - scrollableContainer.offsetBodyTop()\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('copyElts', []);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n        if (e.which == '67' && e.ctrlKey) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    // si l'lment HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    var selection = params.selection;\n    var parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('arrows.isContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    },\n    onkeydown: function onkeydown(event, parentFunctions) {\n        var code = event.which;\n        //37=left , 38=top , 39=right , 40=bottom\n        if (code == 37 || code == 38 || code == 39 || code == 40) {\n            var lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n            if (!lastSelected) {\n                if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n                    var firstElement = parentFunctions.getSelectablesElements()[0];\n                    if (firstElement) {\n                        parentFunctions.updateSelection([firstElement]);\n                    }\n                }\n            } else {\n                event.preventDefault();\n                var centerScroll = function centerScroll(elt) {\n                    var scrollableContainer = parentFunctions.getScrollableContainer(elt);\n                    if (scrollableContainer) {\n                        if (scrollableContainer === document.body) {\n                            var scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                            var scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                            window.scrollTo(scrollX, scrollY);\n                        } else {\n                            var _scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                            var _scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                            scrollableContainer.scrollTop = _scrollY;\n                            scrollableContainer.scrollLeft = _scrollX;\n                        }\n                        centerScroll(scrollableContainer);\n                    } else {\n                        return false;\n                    }\n                };\n                centerScroll(lastSelected);\n\n                var nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                if (!!nextElement) {\n                    var newSelection = [];\n\n                    if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus')) {\n                        newSelection = parentFunctions.getSelection();\n                        var index = newSelection.indexOf(nextElement);\n                        if (code == 37 || code == 39) {\n                            if (index === -1) {\n                                newSelection.push(nextElement);\n                            } else {\n                                newSelection.splice(newSelection.length - 1, 1);\n                            }\n                        } else {\n                            var newElements = [];\n                            var searchNextElement = lastSelected;\n                            while (searchNextElement && searchNextElement !== nextElement) {\n                                searchNextElement = calculateNextElement(searchNextElement, code == 38 ? 37 : 39, parentFunctions);\n                                if (searchNextElement) {\n                                    newElements.push(searchNextElement);\n                                }\n                            }\n                            if (index === -1) {\n                                newSelection = newSelection.concat(newElements);\n                            } else {\n                                newSelection.splice(index + 1);\n                            }\n                        }\n                        parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                    } else {\n                        newSelection = [nextElement];\n                        parentFunctions.updateSelection(newSelection);\n                    }\n\n                    centerScroll(nextElement);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\nvar calculateNextElement = function calculateNextElement(fromElement, code, parentFunctions) {\n    var selectablesElements = parentFunctions.getSelectablesElements();\n    var indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return selectablesElements[indexElt - 1] ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return selectablesElements[indexElt + 1] ? selectablesElements[indexElt + 1] : null;\n    }\n\n    var interval = 10;\n    var rect = fromElement.getBoundingClientRect();\n    var posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    var posY = fromElement.offsetBodyTop() + (code === 40 ? rect.height : 0);\n    var updateY = code === 40 ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    var getNextElement = function getNextElement() {\n        var target = document.elementFromPoint(posX, posY);\n        if (!target) {\n            return null;\n        }\n        var selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    };\n    var nextElement = getNextElement();\n    return nextElement;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n\n        var selection = parentFunctions.getSelection();\n\n        if (e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(e, parentFunctions) {\n        if (e.ctrlKey) {\n            var code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                var newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mka.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94c5a8025a6923b5660e","import * as dbClick from './dbClick';\nimport * as rightClick from './rightClick';\nimport * as dndHandler from './DragAndDrop';\nimport * as select from './select';\nimport * as copyPaste from './copyPaste';\nimport * as count from './count';\nimport * as arrows from './arrows';\nimport * as deleteShortcut from './deleteShortcut';\nimport * as selectAllShortcut from './selectAllShortcut';\n\nlet defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"lasso\": true,\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": (items) => {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n}\n\nlet updateSelection = (container, newSelection, actionId) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n    let selectables = container.mkaParams.selectables;\n\n    let sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(elt => {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(elt => {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(elt => {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        let params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        }\n        components.forEach(component => {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n}\n\nlet getConfigs = (clientConfigs) => {\n    let configs = {};\n    Object.keys(defaultConfigs).forEach((i) => {\n        configs[i] = (typeof clientConfigs[i] !== 'undefined') ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n}\n\nlet pushComponents = (container) => {\n    let configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n}\n\nlet getPublicFunctions = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: () => {\n            return container;\n        },\n        setProperty: (key, value) => {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: (key) => {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: (elt) => {\n            if (elt && elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: (elt) => {\n            let selectables = container.mkaParams.selectables;\n            if (elt && elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: () => {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: () => {\n            let last = null;\n            container.mkaParams.selection.forEach(elt => {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: () => {\n            let copy = [];\n            container.mkaParams.selection.forEach(elt => {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: (newSelection, actionId) => {\n            updateSelection(container, newSelection, actionId);\n        },\n        removeElements: (elements) => {\n            elements.forEach(elt => {\n                let index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(component => {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: (target) => {\n            if (target === container) {\n                return true;\n            }\n            while (target.parentNode) {\n                target = target.parentNode;\n                if (target === container) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getScrollableContainer: (childElement) => {\n            let scrollableContainer = null;\n            let currentElt = childElement;\n            while (!!currentElt.parentNode && !scrollableContainer) {\n                currentElt = currentElt.parentNode;\n                if (currentElt.scrollHeight > currentElt.offsetHeight+30 || currentElt.scrollWidth > currentElt.offsetWidth || currentElt === document.body) {\n                    scrollableContainer = currentElt;\n                }\n            }\n            return scrollableContainer;\n        }\n    }\n}\n\nlet initComponents = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n}\n\nlet bindEvents = (container) => {\n    let publicFunctions = getPublicFunctions(container);\n    let components = container.mkaParams.components;\n\n    let bindComponentsEvents = (target, eventName) => {\n        let saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = (event) => {\n            let stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(component => {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return {forceStop: stop};\n        }\n    }\n\n    let mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    let mouseEventsTargets = [\n        {name: \"windowEvents\", value: window},\n        {name: \"documentEvents\", value: document.body},\n        {name: \"mkaEvents\", value: container}\n    ];\n\n    let keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(mouseEventTarget => {\n        mouseEventsList.forEach(mouseEventName => {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(keyEventName => {\n        bindComponentsEvents({name: \"windowEvents\", value: window}, keyEventName);\n    });\n}\n\nlet refreshComponents = (container) => {\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs);\n    });\n}\n\nlet updateSelectableElements = (container, elements) => {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(elt => {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(elt => {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n}\n\nlet mkaRefresh = (container) => {\n    let newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    let newSelection = [];\n    container.mkaParams.selection.forEach(elt => {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n}\n\nlet listenContainerDOMChange = (container) => {\n    let containsSelectableElement = (node) => {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        let parentNode = node.parentNode;\n        if (parentNode) {\n            let selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (let i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n\n    }\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            let needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (let i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (let i = 0; i < mutation.removedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, {childList: true, subtree: true});\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n}\n\nlet isMobileDevice = () => {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    let container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    let configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    let selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    let container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n\n}\n\nlet getOffsetBody = (elt, offsetType) => {\n    let offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n}\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n}\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n}\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n}\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n}\n\nlet getScrollTotal = (elt, scrollType) => {\n    let scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n}\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n}\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let mkaEvents = {\n    ondblclick: (e, parentFunctions, conf) => {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (e) => {\n        let currentDate = new Date();\n        let lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && (currentDate - lastTouchDate) < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n}\n\nlet launchDbClick = (e, parentFunctions, conf) => {\n    let element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dbClick.js","const mkarcmenuId = 'mkarcmenu';\nconst menuContainerClass = \"menu-container\";\n\nlet customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + menuContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nexport let init = (conf, parentFunctions) => {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let windowEvents = {\n    onkeydown: (event) => {\n        let code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: (event) => {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n}\n\nlet menuIsOpen = () => {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n}\n\nlet removeMkaRcMenu = () => {\n    const menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n}\n\nlet getMkaRcMenu = () => {\n    let menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n    }\n    return menu;\n}\n\nlet setMenuPosition = (menu, event, parentFunctions) => {\n    \n    let scrollableContainer = parentFunctions.getScrollableContainer(event.target);\n    let selectableParent = parentFunctions.getSelectableElement(event.target);\n    \n    if (!scrollableContainer) {\n        scrollableContainer = parentFunctions.getContainer();\n    }\n    \n    if (!selectableParent) {\n        selectableParent = parentFunctions.getContainer();\n    }\n\n    if (!scrollableContainer.classList.contains(menuContainerClass)) {\n        scrollableContainer.classList.add(menuContainerClass);\n    }\n\n    let containerWidth = scrollableContainer.offsetWidth;\n    let containerHeight = scrollableContainer.offsetHeight;\n    let left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    let top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n    let parentWidth = selectableParent.offsetWidth;\n    let parentHeight = selectableParent.offsetHeight;\n    let leftDiffToParent = event.pageX - (selectableParent.offsetBodyLeft() - selectableParent.scrollLeftTotal() + document.body.scrollLeftTotal());\n    let topDiffToParent = event.pageY - (selectableParent.offsetBodyTop() - selectableParent.scrollTopTotal() + document.body.scrollTopTotal());\n    \n\n    if (leftDiffToParent < 3 * parentWidth / 4) {\n        menu.style.left = left + 'px';\n        menu.style.right = \"auto\";\n    } else {\n        menu.style.right = (containerWidth - left) + 'px';\n        menu.style.left = \"auto\";\n    }\n\n    if (topDiffToParent < 3 * parentHeight / 4) {\n        menu.style.top = top + 'px';\n        menu.style.bottom = \"auto\";\n    } else {\n        menu.style.bottom = (containerHeight - top) + 'px';\n        menu.style.top = \"auto\";\n    }\n\n    menu.style.position = 'absolute';\n    menu.style.display = 'block';\n    menu.style.zIndex = '20000';\n\n    scrollableContainer.appendChild(menu);\n}\n\nlet bindContextMenu = (conf, parentFunctions) => {\n\n    // On dsactive le click droit sur l'lment principal\n    parentFunctions.getContainer().addEventListener('contextmenu', (event) => {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        const selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'lment n'est pas slectionn, on restreint la slection  ce seul lment\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        let selection = parentFunctions.getSelection();\n\n        let menu = getMkaRcMenu();\n        let htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event, parentFunctions);\n    });\n\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', () => {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/rightClick.js","export let init = (conf, parentFunctions) => {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    let elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(elt => {\n        bindDragEvents(elt, parentFunctions, conf);\n    });\n\n    if (conf.droppableElements) {\n        let droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(elt => bindDropEvents(elt, parentFunctions, conf));\n    }\n}\n\nexport let onSelectionUpdate = (params) => {\n    params.selectables.forEach(elt => {\n        elt.draggable = false;\n    });\n    params.selection.forEach(elt => {\n        elt.draggable = true;\n    });\n};\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions) => {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions) => {\n        let isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nexport let windowEvents = {\n    onmouseup: (event, parentFunctions) => {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nlet bindDragEvents = (element, parentFunctions, conf) => {\n\n    element.addEventListener('dragstart', function (e) {\n        // On recupere les lts slectionns\n        let selection = parentFunctions.getSelection();\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach((elt) => elt.classList.add(\"on-drag\"));\n\n        let innerCode = \"\";\n        let wrapper = document.createElement('div');\n        const wrapperSize = selection[0].scrollWidth;\n\n        //On rajoute le code html de chaque lments dans une variable\n        //Chaque lment possde une div parente (Ncessaire lorsque le wrapper passe dans setWrapperStyle)\n        selection.forEach((elt) => {\n            innerCode += `<div> ${elt.innerHTML} </div>`;\n        });\n\n        //On set le innerHTML avec tous les lments rcuprs prcedemment\n        wrapper.innerHTML = innerCode;\n        wrapper.id = \"wrapper-drag\";\n        wrapper.style.width = wrapperSize + \"px\";\n\n        //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"-10000px\";\n\n        wrapper = setWrapperStyle(wrapper, conf);\n\n        document.body.appendChild(wrapper);\n\n        e.dataTransfer.setDragImage(wrapper, 0, 0);\n\n        e.dataTransfer.setData('text/plain', '');\n\n    });\n\n    element.addEventListener('dragend', function (e) {\n        let selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n\n        // on retire la class\n        selection.forEach((elt) => elt.classList.remove(\"on-drag\"));\n    });\n}\n\nlet bindDropEvents = (dropper, parentFunctions, conf) => {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la slection sur la zone dropable\n        // on execute l'action dfini par l'utilsateur\n        let selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n}\n\n\nlet setWrapperStyle = (wrapper, conf) => {\n    //On rcupre les lments enfants du wrapper qui servira pour le drag\n    let wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui sparera les lments en fonction du nombre d'lments dans la liste\n    let childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque lment du wrapper\n    for (let i = 0; i < wrapperChildren.length; i++) {\n        let child = wrapperChildren[i];\n\n        //Si l'utilisateur a configur le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par dfaut si l'utilisateur n'a pas configur le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque lment a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le dcalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = (i * childDistance) + \"px\";\n        child.style.left = (i * childDistance) + \"px\";\n\n        //Lorsqu'on parcourt le dernier lment et qu'il y a plus d'un lement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On cre une span qui contiendra le nombre d'lements selectionns\n            let span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configur le onDragItemClass alors on applique un style par dfaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/DragAndDrop.js","const lassoContainerClass = \"lasso-container\";\n\nlet customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + lassoContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nexport let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    let squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    let square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: () => {\n            let squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.backgroundColor = \"rgba(255,0,0,0.5)\";\n                squareElt.style.border = \"1px solid rgba(255,0,0,0.8)\";\n                squareElt.style.display = \"none\";\n            }\n            return squareElt;\n        },\n        refresh: () => {\n            let squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = (square.x2 - square.x1) + \"px\";\n            squareElt.style.height = (square.y2 - square.y1) + \"px\";\n        },\n        remove: () => {\n            square.get().remove();\n        },\n        isVisble: () => {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: (elt) => {\n            let container = parentFunctions.getContainer();\n            let scrollTop = container.scrollTopTotal() - document.body.scrollTopTotal();\n            let scrollLeft = container.scrollLeftTotal() - document.body.scrollLeftTotal();\n            return elementIsCrossingZone(elt, square.x1 + scrollLeft, square.y1, square.x2 + scrollLeft, square.y2 + scrollTop,parentFunctions);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n}\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions) => {\n        // On dmarre la slection si on utilise le bouton gauche de la souris\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                let square = parentFunctions.getProperty('square');\n                let scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n                \n                if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n                    scrollableContainer.classList.add(lassoContainerClass);\n                }\n                \n                let left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n                let top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n                \n                // zone du click\n                square.downX = +left;\n                square.downY = +top;\n                square.upX = +left;\n                square.upY = +top;\n                scrollableContainer.appendChild(square.get());\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                let selectableElements = parentFunctions.getSelectablesElements();\n                let selection = parentFunctions.getSelection();\n                let newSelection = [];\n\n                let element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    let focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        let elementIndex = selectableElements.indexOf(element);\n                        let firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        let lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey) {\n                            selection.forEach(elt => {\n                                let eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (let i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: (event, parentFunctions, conf) => {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions, conf) => {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            let isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nexport let windowEvents = {\n    onmousedown: (event, parentFunctions, conf) => {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                let selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    let lastSelection = parentFunctions.getSelection();\n                    let index = lastSelection.indexOf(selectableElt);\n                    let newSelection = [selectableElt];\n\n                    if (event.ctrlKey || (conf.isMobileDevice && index !== -1)) {\n                        newSelection = lastSelection;\n                        if (index !== -1) {\n                            newSelection.splice(index, 1);\n                        } else {\n                            newSelection.push(selectableElt);\n                        }\n                    }\n\n                    let selecting = [];\n                    newSelection.forEach(elt => {\n                        selecting.push(elt);\n                        elt.classList.add(conf.eltSelectingClass);\n                    });\n                    parentFunctions.setProperty('selecting', selecting);\n\n                } else if (!event.ctrlKey) {\n                    parentFunctions.updateSelection([]);\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: (event, parentFunctions, conf) => {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n        let dateStart = new Date();\n        parentFunctions.setProperty('select.startLongPress', dateStart);\n        setTimeout(() => {\n            if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                let selection = parentFunctions.getSelection();\n                let eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                if (eltSelectable) {\n                    const indexElt = selection.indexOf(eltSelectable);\n                    if (indexElt === -1) {\n                        selection.push(eltSelectable);\n                    }\n                    parentFunctions.updateSelection(selection);\n                }\n            }\n        }, conf.longPressDelay);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', () => {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchmove', () => {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n};\n\nlet refreshLasso = (event, parentFunctions, conf) => {\n    let square = parentFunctions.getProperty('square');\n    let scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    let left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    let top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n    \n    square.upX = +left;\n    square.upY = +top;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey, square, parentFunctions, conf);\n    square.refresh();\n\n};\n\nlet endLasso = (parentFunctions, conf) => {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n}\n\nlet pushSelectingElements = (parentFunctions, conf) => {\n    if (parentFunctions.getProperty('selecting').length) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n}\n\nlet clearSelecting = (parentFunctions, conf) => {\n    parentFunctions.getProperty('selecting').forEach(elt => {\n        elt.classList.remove(conf.eltSelectingClass);\n    });\n    parentFunctions.setProperty('selecting', []);\n}\n\nlet orderCoordinate = (square) => {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n}\n\nlet selectLassoItems = (ctrlKey, square, parentFunctions, conf) => {\n    let mkaElts = parentFunctions.getSelectablesElements();\n\n    let selecting = (ctrlKey) ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionn\n    mkaElts.forEach(elt => {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n}\n\nlet elementIsCrossingZone = (elt, x1, y1, x2, y2,parentFunctions) => {\n    let rect = elt.getBoundingClientRect();\n    let scrollableContainer = parentFunctions.getScrollableContainer(elt) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    let zoneElt = {\n        x1: elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft(),\n        x2: (elt.offsetBodyLeft() + rect.width - scrollableContainer.offsetBodyLeft()),\n        y1: elt.offsetBodyTop() - scrollableContainer.offsetBodyTop(),\n        y2: (elt.offsetBodyTop() + rect.height - scrollableContainer.offsetBodyTop())\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/select.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('copyElts', []);\n}\n\nexport let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n        if (e.which == '67' && e.ctrlKey) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/copyPaste.js","export let onSelectionUpdate = (params) => {\n// si l'lment HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/count.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n}\n\nexport let onSelectionUpdate = (params) => {\n    let selection = params.selection;\n    let parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n}\n\nexport let windowEvents = {\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('arrows.isContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    },\n    onkeydown: (event, parentFunctions) => {\n        let code = event.which;\n        //37=left , 38=top , 39=right , 40=bottom\n        if (code == 37 || code == 38 || code == 39 || code == 40) {\n            let lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n            if (!lastSelected) {\n                if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n                    let firstElement = parentFunctions.getSelectablesElements()[0];\n                    if (firstElement) {\n                        parentFunctions.updateSelection([firstElement]);\n                    }\n                }\n            } else {\n                event.preventDefault();\n                let centerScroll = (elt) => {\n                    let scrollableContainer = parentFunctions.getScrollableContainer(elt);\n                    if (scrollableContainer) {\n                        if (scrollableContainer === document.body) {\n                            let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                            let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                            window.scrollTo(scrollX, scrollY);\n                        } else {\n                            let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                            let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                            scrollableContainer.scrollTop = scrollY;\n                            scrollableContainer.scrollLeft = scrollX;\n                        }\n                        centerScroll(scrollableContainer);\n                    } else {\n                        return false;\n                    }\n                }\n                centerScroll(lastSelected);\n\n                let nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                if (!!nextElement) {\n                    let newSelection = [];\n\n                    if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus')) {\n                        newSelection = parentFunctions.getSelection();\n                        let index = newSelection.indexOf(nextElement);\n                        if (code == 37 || code == 39) {\n                            if (index === -1) {\n                                newSelection.push(nextElement);\n                            } else {\n                                newSelection.splice(newSelection.length - 1, 1);\n                            }\n                        } else {\n                            let newElements = [];\n                            let searchNextElement = lastSelected;\n                            while (searchNextElement && searchNextElement !== nextElement) {\n                                searchNextElement = calculateNextElement(searchNextElement, (code == 38) ? 37 : 39, parentFunctions);\n                                if (searchNextElement) {\n                                    newElements.push(searchNextElement);\n                                }\n                            }\n                            if (index === -1) {\n                                newSelection = newSelection.concat(newElements);\n                            } else {\n                                newSelection.splice(index + 1);\n                            }\n\n                        }\n                        parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                    } else {\n                        newSelection = [nextElement];\n                        parentFunctions.updateSelection(newSelection);\n                    }\n\n                    centerScroll(nextElement);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\nlet calculateNextElement = (fromElement, code, parentFunctions) => {\n    let selectablesElements = parentFunctions.getSelectablesElements();\n    let indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return (selectablesElements[indexElt - 1]) ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return (selectablesElements[indexElt + 1]) ? selectablesElements[indexElt + 1] : null;\n    }\n\n    let interval = 10;\n    let rect = fromElement.getBoundingClientRect();\n    let posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    let posY = fromElement.offsetBodyTop() + ((code === 40) ? rect.height : 0);\n    let updateY = (code === 40) ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    let getNextElement = () => {\n        let target = document.elementFromPoint(posX, posY);\n        if(!target){\n            return null;\n        }\n        let selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    }\n    let nextElement = getNextElement();\n    return nextElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/arrows.js","export let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n\n        let selection = parentFunctions.getSelection();\n\n        if(e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/deleteShortcut.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n}\n\nexport let windowEvents = {\n    onkeydown: (e, parentFunctions) => {\n        if (e.ctrlKey) {\n            let code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                let newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/selectAllShortcut.js"],"sourceRoot":""}