{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mka.min.js","webpack:///webpack/bootstrap c1b286caf4cb1b2e0e15","webpack:///./src/js/main.js","webpack:///./src/js/dbClick.js","webpack:///./src/js/rightClick.js","webpack:///./src/js/DragAndDrop.js","webpack:///./src/js/select.js","webpack:///./src/js/copyPaste.js","webpack:///./src/js/count.js","webpack:///./src/js/arrows.js","webpack:///./src/js/deleteShortcut.js","webpack:///./src/js/selectAllShortcut.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","default","_dbClick","dbClick","_rightClick","rightClick","_DragAndDrop","dndHandler","_select","select","_copyPaste","copyPaste","_count","count","_arrows","arrows","_deleteShortcut","deleteShortcut","_selectAllShortcut","selectAllShortcut","defaultConfigs","eltsSelectable","eltSelectedClass","eltSelectingClass","onDragItemClass","dragNdrop","droppableElements","multipleSelection","lasso","lassoBorder","lassoOpacity","lassoBackground","pasteFunction","items","console","log","longPressDelay","dbClickDelay","onSelectionUpdate","updateSelection","container","newSelection","actionId","configs","mkaParams","components","selectables","sameSelection","selection","length","forEach","elt","indexOf","classList","remove","add","params","parentFunctions","getPublicFunctions","component","getConfigs","clientConfigs","keys","pushComponents","push","isMobileDevice","customProperties","getContainer","setProperty","value","getProperty","elementIsSelected","contains","parentNode","getSelectableElement","getSelectablesElements","getLastSelectedInDom","last","offsetTop","offsetLeft","getSelection","copy","removeElements","elements","index","splice","removeChild","isMkaContainerFocused","target","getScrollableContainer","childElement","scrollableContainer","currentElt","scrollHeight","offsetHeight","scrollWidth","offsetWidth","document","body","initComponents","init","bindEvents","publicFunctions","bindComponentsEvents","eventName","saveIfAlreadyExists","event","stop","forceStop","mouseEventsList","mouseEventsTargets","window","keyEventsList","mouseEventTarget","mouseEventName","keyEventName","refreshComponents","refresh","updateSelectableElements","mkaSelectable","mkaRefresh","newSelectables","slice","querySelectorAll","listenContainerDOMChange","containsSelectableElement","node","selectablesNodes","item","MutationObserver","mutations","needToRefresh","mutation","addedNodes","removedNodes","observe","childList","subtree","addEventListener","setTimeout","check","a","test","substr","navigator","userAgent","vendor","opera","HTMLElement","mkaInit","style","userSelect","mkaReset","getOffsetBody","offsetType","offset","offsetParent","offsetBodyLeft","offsetBodyTop","offsetBodyRight","offsetBodyBottom","getScrollTotal","scrollType","scroll","undefined","scrollTopTotal","scrollLeftTotal","bindMobileDevice","conf","mkaEvents","ondblclick","e","launchDbClick","currentDate","Date","lastTouchDate","touches","preventDefault","element","menuIsOpen","bindContextMenu","windowEvents","onkeydown","code","which","onclick","removeMkaRcMenu","getElementById","display","menu","getMkaRcMenu","createElement","setAttribute","position","zIndex","appendChild","setMenuPosition","opacity","menuHeight","menuWidth","left","pageX","top","pageY","displayLeft","innerWidth","displayAbove","innerHeight","right","bottom","selectableElement","htmlMenu","innerHTML","dragBinded","bindDragEvents","dropBinded","bindDropEvents","draggable","onmousedown","documentEvents","onmousemove","isDragging","ctrlKey","metaKey","onmouseup","dataTransfer","setData","dropper","customStyle","head","insertBefore","firstChild","squareId","Math","floor","random","square","downX","downY","upX","upY","squareElt","id","background","border","y1","x1","width","x2","height","y2","isVisble","isCrossingElt","elementIsCrossingZone","config","shiftKey","selectableElements","focusedElementIndex","elementIndex","firstIndex","min","lastIndex","max","eltIndex","orderCoordinate","endLasso","isInLasso","refreshLasso","clearSelecting","selectableElt","lastSelection","selecting","pushSelectingElements","dateStart","eltSelectable","selectLassoItems","mkaElts","rect","getBoundingClientRect","zoneElt","onkeyup","calculateNextElement","lastSelected","centerScroll","scrollY","scrollX","scrollTo","scrollTop","scrollLeft","nextElement","newElements","searchNextElement","concat","firstElement","fromElement","selectablesElements","indexElt","posX","posY","updateY","getNextElement","elementFromPoint"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,SAAAH,GACA,gBAAAC,SACAA,QAAA,IAAAD,IAEAD,EAAA,IAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA4DA,OAhCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,SAAAd,EAAAe,EAAAC,GACAV,EAAAW,EAAAjB,EAAAe,IACAG,OAAAC,eAAAnB,EAAAe,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAAtB,GACA,GAAAe,GAAAf,KAAAuB,WACA,WAA2B,MAAAvB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDpB,EAAAuB,EAAA,GAGAvB,IAAAwB,EAAA,KDgBM,SAAU7B,EAAQD,EAASM,GAEjC,YAuCA,SAASyB,GAAwBC,GAAO,GAAIA,GAAOA,EAAIR,WAAc,MAAOQ,EAAc,IAAIC,KAAa,IAAW,MAAPD,EAAe,IAAK,GAAIE,KAAOF,GAAWd,OAAOS,UAAUC,eAAejB,KAAKqB,EAAKE,KAAMD,EAAOC,GAAOF,EAAIE,GAAgC,OAAtBD,GAAOE,QAAUH,EAAYC,EEtHlQ,GAAAG,GAAA9B,EAAA,GAAY+B,EFoFEN,EAAwBK,GEnFtCE,EAAAhC,EAAA,GAAYiC,EFuFKR,EAAwBO,GEtFzCE,EAAAlC,EAAA,GAAYmC,EF0FKV,EAAwBS,GEzFzCE,EAAApC,EAAA,GAAYqC,EF6FCZ,EAAwBW,GE5FrCE,EAAAtC,EAAA,GAAYuC,EFgGId,EAAwBa,GE/FxCE,EAAAxC,EAAA,GAAYyC,EFmGAhB,EAAwBe,GElGpCE,EAAA1C,EAAA,GAAY2C,EFsGClB,EAAwBiB,GErGrCE,EAAA5C,EAAA,GAAY6C,EFyGSpB,EAAwBmB,GExG7CE,EAAA9C,EAAA,GAAY+C,EF4GYtB,EAAwBqB,GE1G5CE,GACAC,eAAkB,GAClBC,iBAAoB,mBACpBC,kBAAqB,oBACrBC,gBAAmB,KACnBC,WAAa,EACbC,kBAAqB,GACrBrB,YAAc,EACdF,SAAW,EACXwB,mBAAqB,EACrBC,OAAS,EACTC,YAAe,8BACfC,aAAgB,MAChBC,gBAAmB,oBACnBZ,mBAAqB,EACrBR,WAAa,EACbI,QAAU,EACVE,gBAAkB,EAClBJ,MAAS,GACTmB,cAAiB,SAACC,GACdC,QAAQC,IAAIF,GACZC,QAAQC,IAAI,4DAEhBC,eAAkB,IAClBC,aAAgB,IAChBC,mBAAqB,GAGrBC,EAAkB,SAACC,EAAWC,EAAcC,GAC5C,GAAIC,GAAUH,EAAUI,UAAUD,QAC9BE,EAAaL,EAAUI,UAAUC,WACjCC,EAAcN,EAAUI,UAAUE,YAElCC,GAAgB,CASpB,IARIP,EAAUI,UAAUI,UAAUC,SAAWR,EAAaQ,SACtDF,GAAgB,EAChBP,EAAUI,UAAUI,UAAUE,QAAQ,SAAAC,IACC,IAA/BV,EAAaW,QAAQD,KACrBJ,GAAgB,OAIvBA,EAAe,CAChBP,EAAUI,UAAUI,UAAYP,EAChCK,EAAYI,QAAQ,SAAAC,GAChBA,EAAIE,UAAUC,OAAOX,EAAQrB,oBAEjCkB,EAAUI,UAAUI,UAAUE,QAAQ,SAAAC,GAClCA,EAAIE,UAAUE,IAAIZ,EAAQrB,mBAE9B,IAAIkC,IACAR,UAAWR,EAAUI,UAAUI,UAC/BF,YAAaN,EAAUI,UAAUE,YACjCH,QAASH,EAAUI,UAAUD,QAC7Bc,gBAAiBC,EAAmBlB,GACpCE,SAAUA,EAEdG,GAAWK,QAAQ,SAAAS,GACfA,EAAUrB,mBAAqBqB,EAAUrB,kBAAkBkB,KAG/DhB,EAAUI,UAAUD,QAAQL,mBAAqBE,EAAUI,UAAUD,QAAQL,kBAAkBE,EAAUI,UAAUI,aAIvHY,EAAa,SAACC,GACd,GAAIlB,KAIJ,OAHA3D,QAAO8E,KAAK1C,GAAgB8B,QAAQ,SAAC3E,GACjCoE,EAAQpE,OAAkC,KAArBsF,EAActF,GAAsBsF,EAActF,GAAK6C,EAAe7C,KAExFoE,GAGPoB,EAAiB,SAACvB,GAClB,GAAIG,GAAUH,EAAUI,UAAUD,OAElCH,GAAUI,UAAUC,cAEdF,EAAQxC,SACVqC,EAAUI,UAAUC,WAAWmB,KAAK7D,GAGlCwC,EAAQtC,YACVmC,EAAUI,UAAUC,WAAWmB,KAAK3D,GAGpCsC,EAAQlB,YAAckB,EAAQsB,gBAC9BzB,EAAUI,UAAUC,WAAWmB,KAAKzD,GAGpCoC,EAAQxB,mBACRqB,EAAUI,UAAUC,WAAWmB,KAAK7C,GAGpCwB,EAAQhC,WACR6B,EAAUI,UAAUC,WAAWmB,KAAKrD,GAGlCgC,EAAQ1B,gBACVuB,EAAUI,UAAUC,WAAWmB,KAAK/C,GAGlC0B,EAAQ5B,QACVyB,EAAUI,UAAUC,WAAWmB,KAAKjD,GAElC4B,EAAQ9B,OACV2B,EAAUI,UAAUC,WAAWmB,KAAKnD,GAGxC2B,EAAUI,UAAUC,WAAWmB,KAAKvD,IAGpCiD,EAAqB,SAAClB,GACtB,GAAIG,GAAUH,EAAUI,UAAUD,QAC9BE,EAAaL,EAAUI,UAAUC,UAIrC,OAFAL,GAAUI,UAAUsB,iBAAmB1B,EAAUI,UAAUsB,sBAGvDC,aAAc,WACV,MAAO3B,IAEX4B,YAAa,SAACpE,EAAKqE,GACf7B,EAAUI,UAAUsB,iBAAiBlE,GAAOqE,GAEhDC,YAAa,SAACtE,GACV,MAAOwC,GAAUI,UAAUsB,iBAAiBlE,IAEhDuE,kBAAmB,SAACpB,GAChB,GAAIA,GAAOA,EAAIE,WAAaF,EAAIE,UAAUmB,SAAS7B,EAAQrB,kBACvD,OAAO,CAEX,MAAO6B,GAAOA,EAAIsB,YAEd,GADAtB,EAAMA,EAAIsB,WACNtB,EAAIE,WAAaF,EAAIE,UAAUmB,SAAS7B,EAAQrB,kBAChD,OAAO,CAGf,QAAO,GAEXoD,qBAAsB,SAACvB,GACnB,GAAIL,GAAcN,EAAUI,UAAUE,WACtC,IAAIK,GAAOA,EAAIE,YAA2C,IAA9BP,EAAYM,QAAQD,GAC5C,MAAOA,EAEX,MAAOA,GAAOA,EAAIsB,YAEd,GADAtB,EAAMA,EAAIsB,WACNtB,EAAIE,YAA2C,IAA9BP,EAAYM,QAAQD,GACrC,MAAOA,EAGf,OAAO,OAEXwB,uBAAwB,WACpB,MAAOnC,GAAUI,UAAUE,aAG/B8B,qBAAsB,WAClB,GAAIC,GAAO,IAMX,OALArC,GAAUI,UAAUI,UAAUE,QAAQ,SAAAC,KAC7B0B,GAAQ1B,EAAI2B,UAAYD,EAAKC,WAAa3B,EAAI2B,YAAcD,EAAKC,WAAa3B,EAAI4B,WAAaF,EAAKE,cACrGF,EAAO1B,KAGR0B,GAEXG,aAAc,WACV,GAAIC,KAIJ,OAHAzC,GAAUI,UAAUI,UAAUE,QAAQ,SAAAC,GAClC8B,EAAKjB,KAAKb,KAEP8B,GAEX1C,gBAAiB,SAACE,EAAcC,GAC5BH,EAAgBC,EAAWC,EAAcC,IAE7CwC,eAAgB,SAACC,GACbA,EAASjC,QAAQ,SAAAC,GACb,GAAIiC,GAAQ5C,EAAUI,UAAUE,YAAYM,QAAQD,IACrC,IAAXiC,GACA5C,EAAUI,UAAUE,YAAYuC,OAAOD,EAAO,GAElDA,EAAQ5C,EAAUI,UAAUI,UAAUI,QAAQD,IAC/B,IAAXiC,GACA5C,EAAUI,UAAUI,UAAUqC,OAAOD,EAAO,GAEhDjC,EAAIsB,WAAWa,YAAYnC,KAE/BN,EAAWK,QAAQ,SAAAS,GACfA,EAAUrB,mBAAqBqB,EAAUrB,kBAAkBE,EAAUI,UAAUI,UAAWR,EAAUI,UAAUE,gBAGtHyC,sBAAuB,SAACC,GACpB,GAAIA,IAAWhD,EACX,OAAO,CAEX,MAAOgD,EAAOf,YAEV,IADAe,EAASA,EAAOf,cACDjC,EACX,OAAO,CAGf,QAAO,GAEXiD,uBAAwB,SAACC,GAGrB,IAFA,GAAIC,GAAsB,KACtBC,EAAaF,EACRE,EAAWnB,aAAekB,GAC/BC,EAAaA,EAAWnB,YACpBmB,EAAWC,aAAeD,EAAWE,aAAa,IAAMF,EAAWG,YAAcH,EAAWI,YAAY,IAAMJ,IAAeK,SAASC,QACtIP,EAAsBC,EAG9B,OAAOD,MAKfQ,EAAiB,SAAC3D,GAClB,GAAIG,GAAUH,EAAUI,UAAUD,OACjBH,GAAUI,UAAUC,WAE1BK,QAAQ,SAAAS,GACfA,EAAUyC,MAAQzC,EAAUyC,KAAKzD,EAASe,EAAmBlB,OAIjE6D,EAAa,SAAC7D,GACd,GAAI8D,GAAkB5C,EAAmBlB,GACrCK,EAAaL,EAAUI,UAAUC,WAEjC0D,EAAuB,SAACf,EAAQgB,GAChC,GAAIC,GAAsBjB,EAAOnB,MAAMmC,EACvChB,GAAOnB,MAAMmC,GAAa,SAACE,GACvB,GAAIC,IAAO,CASX,OARIF,IAAsD,kBAAxBA,KAC9BE,EAAOF,EAAoBC,GAAOE,WAEtC/D,EAAWK,QAAQ,SAAAS,GACVgD,IACDA,EAAOhD,EAAU6B,EAAO3G,OAAS8E,EAAU6B,EAAO3G,MAAM2H,IAAc7C,EAAU6B,EAAO3G,MAAM2H,GAAWE,EAAOJ,EAAiB9D,EAAUI,UAAUD,WAAY,MAGhKiE,UAAWD,KAIvBE,GAAmB,cAAe,cAAe,YAAa,UAAW,cACzEC,IACCjI,KAAM,eAAgBwF,MAAO0C,SAC7BlI,KAAM,iBAAkBwF,MAAO4B,SAASC,OACxCrH,KAAM,YAAawF,MAAO7B,IAG3BwE,GAAiB,YAAa,aAAc,UAEhDF,GAAmB5D,QAAQ,SAAA+D,GACvBJ,EAAgB3D,QAAQ,SAAAgE,GACpBX,EAAqBU,EAAkBC,OAI/CF,EAAc9D,QAAQ,SAAAiE,GAClBZ,GAAsB1H,KAAM,eAAgBwF,MAAO0C,QAASI,MAIhEC,EAAoB,SAAC5E,GACJA,EAAUI,UAAUC,WAE1BK,QAAQ,SAAAS,GACfA,EAAU0D,SAAW1D,EAAU0D,QAAQ7E,EAAUI,UAAUE,YAAaN,EAAUI,UAAUD,QAASe,EAAmBlB,OAI5H8E,EAA2B,SAAC9E,EAAW2C,GACnC3C,EAAUI,UAAUE,aACpBN,EAAUI,UAAUE,YAAYI,QAAQ,SAAAC,GACpCA,EAAIoE,eAAgB,IAG5BpC,EAASjC,QAAQ,SAAAC,GACbA,EAAIoE,eAAgB,IAExB/E,EAAUI,UAAUE,YAAcqC,GAGlCqC,EAAa,SAAChF,GACd,GAAIiF,MAAoBC,MAAMjJ,KAAK+D,EAAUmF,iBAAiBnF,EAAUI,UAAUD,QAAQtB,iBACtFoB,IACJD,GAAUI,UAAUI,UAAUE,QAAQ,SAAAC,IACG,IAAjCsE,EAAerE,QAAQD,IACvBV,EAAauB,KAAKb,KAG1BZ,EAAgBC,EAAWC,GAE3B6E,EAAyB9E,EAAWiF,GAEpCL,EAAkB5E,IAGlBoF,EAA2B,SAACpF,GAC5B,GAAIqF,GAA4B,SAACC,GAE7B,GAAMA,EAAKP,cACP,OAAO,CAIX,IAAI9C,GAAaqD,EAAKrD,UACtB,IAAIA,EAEA,IAAK,GADDsD,GAAmBtD,EAAWkD,iBAAiBnF,EAAUI,UAAUD,QAAQtB,gBACtE9C,EAAI,EAAGA,EAAIwJ,EAAiB9E,OAAQ1E,IACzC,GAAIwJ,EAAiBC,KAAKzJ,KAAOuJ,EAC7B,OAAO,CAMnB,UAAIA,EAAKH,kBAAoBG,EAAKH,iBAAiBnF,EAAUI,UAAUD,QAAQtB,gBAAgB4B,OAAS,GAS5G,IAAgC,mBAArBgF,kBAAkC,CAC1B,GAAIA,kBAAiB,SAAUC,GAC1C,GAAIC,IAAgB,CACpBD,GAAUhF,QAAQ,SAAUkF,GACxB,IAAKD,EAAe,CAEhB,GAAIC,EAASC,WACT,IAAK,GAAI9J,GAAI,EAAGA,EAAI6J,EAASC,WAAWpF,OAAQ1E,IAC5C4J,EAAgBN,EAA0BO,EAASC,WAAWL,KAAKzJ,GAI3E,IAAI6J,EAASE,aACT,IAAK,GAAI/J,GAAI,EAAGA,EAAI6J,EAASE,aAAarF,OAAQ1E,IAC9C4J,EAAgBN,EAA0BO,EAASE,aAAaN,KAAKzJ,OAKjF4J,GACAX,EAAWhF,KAIV+F,QAAQ/F,GAAYgG,WAAW,EAAMC,SAAS,QAGvDjG,GAAUkG,iBAAiB,iBAAkB,SAAUhC,GAC/CmB,EAA0BnB,EAAMlB,SAChCmD,WAAW,WACPnB,EAAWhF,IACZ,KAGXA,EAAUkG,iBAAiB,kBAAmB,SAAUhC,GAChDmB,EAA0BnB,EAAMlB,SAChCmD,WAAW,WACPnB,EAAWhF,IACZ,MAMfyB,EAAiB,WACjB,GAAI2E,IAAQ,CAKZ,OAJA,UAAWC,IACH,sVAAsVC,KAAKD,IAAM,0kDAA0kDC,KAAKD,EAAEE,OAAO,EAAG,OAC57DH,GAAQ,IACbI,UAAUC,WAAaD,UAAUE,QAAUnC,OAAOoC,OAC9CP,EAGXQ,aAAY3J,UAAU4J,QAAU,SAAUxF,GACtC,GAAIrB,GAAYtE,IAChBsE,GAAU8G,MAAMC,WAAa,OAC7B/G,EAAU8G,MAAM,oBAAsB,OACtC9G,EAAU8G,MAAM,uBAAyB,OACzC9G,EAAU8G,MAAM,mBAAqB,MAErC,IAAI3G,GAAUiB,EAAWC,EACzBlB,GAAQsB,eAAiBA,GAEzB,IAAInB,MAAiB4E,MAAMjJ,KAAK+D,EAAUmF,iBAAiBhF,EAAQtB,gBAEnEmB,GAAUI,WACND,QAASA,EACTK,cAEJsE,EAAyB9E,EAAWM,GAEpCiB,EAAevB,GAEf2D,EAAe3D,GAEf6D,EAAW7D,GAEXoF,EAAyBpF,IAI7B4G,YAAY3J,UAAU+H,WAAa,WAC/B,GAAIhF,GAAYtE,IAEhB,KAAKsE,EAAUI,YAAcJ,EAAUI,UAAUD,QAE7C,MADAT,SAAQC,IAAI,qDACL,CAGXqF,GAAWhF,IAIf4G,YAAY3J,UAAU+J,SAAW,WAC7BjH,EAAgBrE,SAGpB,IAAIuL,GAAgB,SAACtG,EAAKuG,GAEtB,IADA,GAAIC,GAASxG,EAAIuG,GACRvG,EAAIyG,cAAgBzG,EAAIyG,eAAiB3D,SAASC,MACvD/C,EAAMA,EAAIyG,aACVD,GAAkBxG,EAAIuG,EAE1B,OAAOC,GAGXP,aAAY3J,UAAUoK,eAAiB,WACnC,MAAOJ,GAAcvL,KAAM,eAG/BkL,YAAY3J,UAAUqK,cAAgB,WAClC,MAAOL,GAAcvL,KAAM,cAG/BkL,YAAY3J,UAAUsK,gBAAkB,WACpC,MAAON,GAAcvL,KAAM,gBAG/BkL,YAAY3J,UAAUuK,iBAAmB,WACrC,MAAOP,GAAcvL,KAAM,gBAG/B,IAAI+L,GAAiB,SAAC9G,EAAK+G,GAEvB,IADA,GAAIC,GAAS,MACcC,KAApBjH,EAAI+G,IACPC,GAAkBhH,EAAI+G,GACtB/G,EAAMA,EAAIsB,UAEd,OAAO0F,GAGXf,aAAY3J,UAAU4K,eAAiB,WACnC,MAAOJ,GAAe/L,KAAM,cAGhCkL,YAAY3J,UAAU6K,gBAAkB,WACpC,MAAOL,GAAe/L,KAAM,gBF2G1B,SAAUH,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GG7kBJ,IAcHkG,IAdOnE,OAAO,SAACoE,EAAM/G,GACrBA,EAAgBW,YAAY,wBAAyB,MAEjDoG,EAAKvG,gBACLsG,EAAiBC,EAAM/G,IAIpBgH,aACPC,WAAY,SAACC,EAAGlH,EAAiB+G,GAC7B,MAAOI,GAAcD,EAAGlH,EAAiB+G,KAI1B,SAACA,EAAM/G,GAC1BA,EAAgBU,eAAeuE,iBAAiB,aAAc,SAACiC,GAC3D,GAAIE,GAAc,GAAIC,MAClBC,EAAgBtH,EAAgBa,YAAY,wBAC5CyG,IAAkBF,EAAcE,EAAiBP,EAAKnI,cAAqC,IAArBsI,EAAEK,QAAQ/H,QAChF0H,EAAEM,iBACFL,EAAcD,EAAGlH,EAAiB+G,GAClC/G,EAAgBW,YAAY,wBAAyB,OAErDX,EAAgBW,YAAY,wBAAyByG,OAK7DD,EAAgB,SAACD,EAAGlH,EAAiB+G,GACrC,GAAIU,GAAUzH,EAAgBiB,qBAAqBiG,EAAEnF,OACrD,UAAM0F,GAAmC,kBAAjBV,GAAKrK,WACzBsD,EAAgBlB,iBAAiB2I,IACjCV,EAAKrK,QAAQ+K,IACN,KHslBT,SAAUnN,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GI7nBX,IA4BI8G,IA1BO/E,OAAO,SAACoE,EAAM/G,GACrB2H,EAAgBZ,EAAM/G,GAElB+G,EAAKvG,iBACLR,EAAgBW,YAAY,+BAA+B,GAC3DmG,EAAiBC,EAAM/G,KAIpB4H,gBACPC,UAAW,SAAC5E,GACR,GAAI6E,GAAO7E,EAAM8E,KACjB,SAAa,IAARD,GAAsB,IAARA,GAAsB,IAARA,GAAsB,IAARA,IAAeJ,OAC1DzE,EAAMuE,kBACC,IAIfQ,QAAS,SAAC/E,GACN,MAAoB,KAAhBA,EAAM8E,OACCE,MAMF,WACb,QAASzF,SAAS0F,eA7BF,cA6BwF,SAAvD1F,SAAS0F,eA7B1C,aA6BsErC,MAAMsC,UAG5FF,EAAkB,WAClB,GAAMG,GAAO5F,SAAS0F,eAjCN,YAkChB,UAAIE,GAA+B,SAAvBA,EAAKvC,MAAMsC,WACnBC,EAAKvC,MAAMsC,QAAU,QACd,IAKXE,EAAe,WACf,GAAID,GAAO5F,SAAS0F,eA1CJ,YAkDhB,OAPKE,KACDA,EAAO5F,SAAS8F,cAAc,OAC9BF,EAAKG,aAAa,KA7CN,aA8CZH,EAAKvC,MAAM2C,SAAW,QACtBJ,EAAKvC,MAAM4C,OAAS,QACpBjG,SAASC,KAAKiG,YAAYN,IAEvBA,GAGPO,EAAkB,SAACP,EAAMnF,GAEzBmF,EAAKvC,MAAM+C,QAAU,IACrBR,EAAKvC,MAAMsC,QAAU,OAErB,IAAMU,GAAaT,EAAKhG,aAClB0G,EAAYV,EAAK9F,YAEnByG,EAAO9F,EAAM+F,MAAQxG,SAASC,KAAKoE,kBACnCoC,EAAMhG,EAAMiG,MAAQ1G,SAASC,KAAKmE,iBAElCuC,EAAcJ,EAAOD,EAAYxF,OAAO8F,WACxCC,EAAeJ,EAAMJ,EAAavF,OAAOgG,WAE7ClB,GAAKvC,MAAMkD,KAAQA,GAAQI,EAAYL,EAAU,GAAM,KACvDV,EAAKvC,MAAM0D,MAAQ,OACnBnB,EAAKvC,MAAMoD,IAAOA,GAAOI,EAAaR,EAAW,GAAM,KACvDT,EAAKvC,MAAM2D,OAAS,OAEpBpB,EAAKvC,MAAM+C,QAAU,KAGrBjB,EAAkB,SAACZ,EAAM/G,GAGzBA,EAAgBU,eAAeuE,iBAAiB,cAAe,SAAChC,GAE5D,GADAA,EAAMuE,kBACDxH,EAAgBa,YAAY,gCAAkCkG,EAAKvG,eACpE,OAAO,CAGXyH,IACA,IAAMwB,GAAoBzJ,EAAgBiB,qBAAqBgC,EAAMlB,OAErE,IAA0B,OAAtB0H,GACA,IAAKzJ,EAAgBc,kBAAkB2I,GAAoB,CACvD,GAAI1C,EAAKvG,eACL,OAAO,CAGPR,GAAgBlB,iBAAiB2K,SAIzCzJ,GAAgBlB,mBAGpB,IAAIS,GAAYS,EAAgBuB,eAE5B6G,EAAOC,IACPqB,EAAW3C,EAAKnK,WAAW2C,EAE3BmK,aAAoB/D,cACpByC,EAAKuB,UAAY,GACjBvB,EAAKM,YAAYgB,IAEjBtB,EAAKuB,UAAYD,EAGrBf,EAAgBP,EAAMnF,MAK1B6D,EAAmB,SAACC,EAAM/G,GAC1BA,EAAgBU,eAAeuE,iBAAiB,aAAc,SAAChC,GAC3DjD,EAAgBW,YAAY,8BAA+BX,EAAgBc,kBAAkBmC,EAAMlB,SAE9F/B,EAAgBc,kBAAkBmC,EAAMlB,SACzCkG,MAKRjI,EAAgBU,eAAeuE,iBAAiB,WAAY,WACxDjF,EAAgBW,YAAY,+BAA+B,OJmoB7D,SAAUrG,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GKzwBJ,IAAI+B,UAAO,SAACoE,EAAM/G,IAErBA,EAAgBW,YAAY,cAAc,GAC1CX,EAAgBW,YAAY,mBAAmB,GAEhCX,EAAgBkB,yBAGtBzB,QAAQ,SAAAC,GACTA,EAAIkK,aACJlK,EAAIkK,YAAa,EACjBC,EAAenK,EAAKM,EAAiB+G,MAIzCA,EAAK9I,uBACagG,MAAMjJ,KAAKwH,SAAS0B,iBAAiB6C,EAAK9I,oBAEnDwB,QAAQ,SAAAC,GACTA,EAAIoK,aACJpK,EAAIoK,YAAa,EACjBC,EAAerK,EAAKM,EAAiB+G,OA6CjD8C,GAvCOjG,UAAU,SAACvE,EAAa0H,EAAM/G,GACrC2C,EAAKoE,EAAM/G,IAGJnB,oBAAoB,SAACkB,GAC5BA,EAAOV,YAAYI,QAAQ,SAAAC,GACvBA,EAAIsK,WAAY,IAEpBjK,EAAOR,UAAUE,QAAQ,SAAAC,GACrBA,EAAIsK,WAAY,KAIbhD,aACPiD,YAAa,SAAChH,EAAOjD,GAEjB,MADAA,GAAgBW,YAAY,kBAAmBsC,EAAMlB,QAAU/B,EAAgBc,kBAAkBmC,EAAMlB,UAChG,IAIJmI,kBACPC,YAAa,SAAClH,EAAOjD,GACjB,GAAIoK,GAAapK,EAAgBa,YAAY,kBAE7C,OADAb,GAAgBW,YAAY,aAAcyJ,GACnCA,IAIJxC,gBACPqC,YAAa,SAAChH,EAAOjD,GACjB,OAAQiD,EAAMoH,UAAYpH,EAAMqH,SAAWtK,EAAgBa,YAAY,oBAE3E0J,UAAW,SAACtH,EAAOjD,GAGf,MAFAA,GAAgBW,YAAY,cAAc,GAC1CX,EAAgBW,YAAY,mBAAmB,IACxC,IAIM,SAAC8G,EAASzH,EAAiB+G,GAG5CU,EAAQxC,iBAAiB,YAAa,SAAUiC,GAE5C,GAAI3H,GAAYS,EAAgBuB,cAEhC2F,GAAEsD,aAAaC,QAAQ,aAAc,IAGrClL,EAAUE,QAAQ,SAACC,GAAD,MAASA,GAAIE,UAAUE,IAAI,eA+BjD2H,EAAQxC,iBAAiB,UAAW,SAAUiC,GAC3BlH,EAAgBuB,eAKrB9B,QAAQ,SAACC,GAAD,MAASA,GAAIE,UAAUC,OAAO,iBAIpDkK,EAAiB,SAACW,EAAS1K,EAAiB+G,GAE5C2D,EAAQzF,iBAAiB,WAAY,SAAUiC,GAG3CzM,KAAKmF,UAAUE,IAAI,cAGnBoH,EAAEM,mBAGNkD,EAAQzF,iBAAiB,YAAa,WAElCxK,KAAKmF,UAAUC,OAAO,gBAG1B6K,EAAQzF,iBAAiB,OAAQ,SAAUiC,GAGvC,GAAI3H,GAAYS,EAAgBuB,cACF,mBAAnBwF,GAAK/I,WACZ+I,EAAK/I,UAAUuB,EAAWmL,OLg1BhC,SAAUpQ,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GMh+BX,IAEI+J,GAAcnI,SAAS8F,cAAc,QACzCqC,GAAYpC,aAAa,OAAQ,YACjCoC,EAAYhB,UAAY,uCACxBnH,SAASoI,KAAKC,aAAaF,EAAanI,SAASoI,KAAKE,WAE/C,IAqMHhE,IArMOnE,OAAO,SAACoE,EAAM/G,GACrBA,EAAgBW,YAAY,sBAAuB,MACnDX,EAAgBW,YAAY,gBAExBoG,EAAKvG,iBACLR,EAAgBW,YAAY,wBAAyB,MACrDmG,EAAiBC,EAAM/G,GAG3B,IAAI+K,GAAW,oBAAsBC,KAAKC,MAAsB,IAAhBD,KAAKE,UAEjDC,GACAC,MAAO,KACPC,MAAO,KACPC,IAAK,KACLC,IAAK,KACL5P,IAAK,WACD,GAAI6P,GAAYhJ,SAAS0F,eAAe6C,EAUxC,OATKS,KACDA,EAAYhJ,SAAS8F,cAAc,OACnCkD,EAAUC,GAAKV,EACfS,EAAU3F,MAAM2C,SAAW,WAC3BgD,EAAU3F,MAAM6F,WAAa3E,EAAKzI,gBAClCkN,EAAU3F,MAAM8F,OAAS5E,EAAK3I,YAC9BoN,EAAU3F,MAAM+C,QAAU7B,EAAK1I,aAC/BmN,EAAU3F,MAAMsC,QAAU,QAEvBqD,GAEX5H,QAAS,WACL,GAAI4H,GAAYL,EAAOxP,KACvB6P,GAAU3F,MAAMsC,QAAU,QAC1BqD,EAAU3F,MAAMoD,IAAMkC,EAAOS,GAAK,KAClCJ,EAAU3F,MAAMkD,KAAOoC,EAAOU,GAAK,KAEnCL,EAAU3F,MAAMiG,MAASX,EAAOY,GAAKZ,EAAOU,GAAM,KAClDL,EAAU3F,MAAMmG,OAAUb,EAAOc,GAAKd,EAAOS,GAAM,MAEvD/L,OAAQ,WACJ,GAAM1B,GAAQgN,EAAOxP,KAClBwC,IAASA,EAAM6C,YACd7C,EAAM6C,WAAWa,YAAY1D,IAGrC+N,SAAU,WACN,MAAsC,UAA/Bf,EAAOxP,MAAMkK,MAAMsC,SAE9BgE,cAAe,SAACzM,GAIZ,MAAO0M,GAAsB1M,EAAKyL,EAAOU,GAAIV,EAAOS,GAAIT,EAAOY,GAAIZ,EAAOc,GAAGjM,IAGrFA,GAAgBW,YAAY,SAAUwK,IAG/BnE,aACPiD,YAAa,SAAChH,EAAOjD,EAAiBqM,GAElC,GAAoB,IAAhBpJ,EAAM8E,OAAesE,EAAOnO,kBAAmB,CAC/C,GAAK+E,EAAMqJ,SAwBJ,CACH,GAAIC,GAAqBvM,EAAgBkB,yBACrC3B,EAAYS,EAAgBuB,eAC5BvC,KAEAyI,EAAUzH,EAAgBiB,qBAAqBgC,EAAMlB,OAEzD,IAAI0F,EAAS,CACT,GAAI+E,GAAsBxM,EAAgBa,YAAY,wBAA0B0L,EAAmB5M,QAAQJ,EAAU,GAGrH,IAFAS,EAAgBW,YAAY,sBAAuB6L,GAE/CjN,EAAUC,OAAS,EAAG,CACtB,GAAIiN,GAAeF,EAAmB5M,QAAQ8H,GAC1CiF,EAAa1B,KAAK2B,IAAIH,EAAqBC,GAC3CG,EAAY5B,KAAK6B,IAAIL,EAAqBC,IAC1CxJ,EAAMoH,SAAWpH,EAAMqH,UACvB/K,EAAUE,QAAQ,SAAAC,GACd,GAAIoN,GAAWP,EAAmB5M,QAAQD,EACtCoN,GAAWJ,IACXA,EAAaI,GAEbA,EAAWF,IACXA,EAAYE,IAKxB,KAAK,GAAIhS,GAAI4R,EAAY5R,GAAK8R,EAAW9R,IACrCkE,EAAauB,KAAKgM,EAAmBzR,QAGzCkE,GAAauB,KAAKkH,EAGtBzH,GAAgBlB,gBAAgBE,QA1DnB,CACjBgB,EAAgBW,YAAY,sBAAuB,KAEnD,IAAIwK,GAASnL,EAAgBa,YAAY,UACrCqB,EAAsBlC,EAAgBgC,uBAAuBiB,EAAMlB,SAAW/B,EAAgBU,cAE7FwB,GAAoBtC,UAAUmB,SA1EvB,oBA2ERmB,EAAoBtC,UAAUE,IA3EtB,kBA8EZ,IAAIiJ,GAAO9F,EAAM+F,OAAS9G,EAAoBkE,iBAAmBlE,EAAoB2E,kBAAoBrE,SAASC,KAAKoE,mBACnHoC,EAAMhG,EAAMiG,OAAShH,EAAoBmE,gBAAkBnE,EAAoB0E,iBAAmBpE,SAASC,KAAKmE,iBAGpHuE,GAAOC,OAASrC,EAChBoC,EAAOE,OAASpC,EAChBkC,EAAOG,KAAOvC,EACdoC,EAAOI,KAAOtC,EACd/G,EAAoBwG,YAAYyC,EAAOxP,OACvCqE,EAAgBW,YAAY,SAAUwK,GAEtCnL,EAAgBW,YAAY,iBAAiB,GAE7CoM,EAAgB5B,GAuCpB,OAAO,EAEX,OAAO,GAEXlE,WAAY,SAAChE,EAAOjD,EAAiB+G,GAEjC,MADAiG,GAAShN,EAAiB+G,IACnB,IAIJmD,kBACPC,YAAa,SAAClH,EAAOjD,EAAiB+G,GAClC,GAAI/G,EAAgBa,YAAY,iBAAkB,CAC9C,GAAIoM,GAAYlG,EAAK5I,OAAyB,IAAhB8E,EAAM8E,KAEpC,IADA/H,EAAgBW,YAAY,YAAasM,GACrCA,EAMA,MALKhK,GAAMoH,SAAYpH,EAAMqH,SAAYtK,EAAgBa,YAAY,UAAUqL,aAC3ElM,EAAgBlB,oBAChBkB,EAAgBW,YAAY,sBAAuB,OAEvDuM,EAAajK,EAAOjD,EAAiB+G,IAC9B,CAEPiG,GAAShN,EAAiB+G,GAGlC,OAAO,IAIJa,gBACPqC,YAAa,SAAChH,EAAOjD,EAAiB+G,GAElC,GADAoG,EAAenN,EAAiB+G,GACZ,IAAhB9D,EAAM8E,QACD9E,EAAMqJ,SAAU,CACjB,GAAIc,GAAgBpN,EAAgBiB,qBAAqBgC,EAAMlB,OAC/D,IAAIqL,EACA,GAAGrG,EAAK7I,kBAAmB,CACvB,GAAImP,GAAgBrN,EAAgBuB,eAChCI,EAAQ0L,EAAc1N,QAAQyN,GAC9BpO,GAAgBoO,IAEhBnK,EAAMoH,SAAWpH,EAAMqH,SAAYvD,EAAKvG,iBAA6B,IAAXmB,KAC1D3C,EAAeqO,GACA,IAAX1L,EACA3C,EAAa4C,OAAOD,EAAO,GAE3B3C,EAAauB,KAAK6M,GAI1B,IAAIE,KACJtO,GAAaS,QAAQ,SAAAC,GACjB4N,EAAU/M,KAAKb,GACfA,EAAIE,UAAUE,IAAIiH,EAAKjJ,qBAE3BkC,EAAgBW,YAAY,YAAa2M,OAEzCtN,GAAgBlB,iBAAiBsO,IAKjD,OAAO,GAEX7C,UAAW,SAACtH,EAAOjD,EAAiB+G,GAKhC,MAJoB,KAAhB9D,EAAM8E,QACNwF,EAAsBvN,EAAiB+G,GACvCiG,EAAShN,EAAiB+G,KAEvB,IAIQ,SAACA,EAAM/G,GACvB+G,EAAK7I,oBACJ8B,EAAgBU,eAAeuE,iBAAiB,aAAc,SAAChC,GAC3D,GAAIuK,GAAY,GAAInG,KACpBrH,GAAgBW,YAAY,wBAAyB6M,GACrDtI,WAAW,WACP,GAAIlF,EAAgBa,YAAY,2BAA6B2M,EAAW,CACpE,GAAIjO,GAAYS,EAAgBuB,eAC5BkM,EAAgBzN,EAAgBiB,qBAAqBgC,EAAMlB,OAE/D,IAAI0L,EAAe,EAEG,IADDlO,EAAUI,QAAQ8N,IAE/BlO,EAAUgB,KAAKkN,GAEnBzN,EAAgBlB,gBAAgBS,MAGzCwH,EAAKpI,kBAGZqB,EAAgBU,eAAeuE,iBAAiB,WAAY,WACxDjF,EAAgBW,YAAY,wBAAyB,QAGzDX,EAAgBU,eAAeuE,iBAAiB,YAAa,WACzDjF,EAAgBW,YAAY,wBAAyB,WAK7DuM,EAAe,SAACjK,EAAOjD,EAAiB+G,GACxC,GAAIoE,GAASnL,EAAgBa,YAAY,UACrCqB,EAAsBlC,EAAgBgC,uBAAuBiB,EAAMlB,SAAW/B,EAAgBU,cAC7FwB,GAAoBtC,UAAUmB,SA9OX,oBA+OpBmB,EAAoBtC,UAAUE,IA/OV,kBAiPxB,IAAIiJ,GAAO9F,EAAM+F,OAAS9G,EAAoBkE,iBAAmBlE,EAAoB2E,kBAAoBrE,SAASC,KAAKoE,mBACnHoC,EAAMhG,EAAMiG,OAAShH,EAAoBmE,gBAAkBnE,EAAoB0E,iBAAmBpE,SAASC,KAAKmE,iBAEpHuE,GAAOG,KAAOvC,EACdoC,EAAOI,KAAOtC,EACdjJ,EAAgBW,YAAY,SAAUwK,GAEtC4B,EAAgB5B,GAEhBuC,EAAiBzK,EAAMoH,SAAWpH,EAAMqH,QAASa,EAAQnL,EAAiB+G,GAC1EoE,EAAOvH,WAIPoJ,EAAW,SAAChN,EAAiB+G,GAC7B/G,EAAgBa,YAAY,UAAUhB,SACtCG,EAAgBW,YAAY,iBAAiB,GAEzCX,EAAgBa,YAAY,eAC5Bb,EAAgBW,YAAY,aAAa,GACzC4M,EAAsBvN,EAAiB+G,KAI3CwG,EAAwB,SAACvN,EAAiB+G,GACtC/G,EAAgBa,YAAY,eAC5Bb,EAAgBlB,gBAAgBkB,EAAgBa,YAAY,cAC5DsM,EAAenN,EAAiB+G,KAIpCoG,EAAiB,SAACnN,EAAiB+G,GAChC/G,EAAgBa,YAAY,eAC3Bb,EAAgBa,YAAY,aAAapB,QAAQ,SAAAC,GAC7CA,EAAIE,UAAUC,OAAOkH,EAAKjJ,qBAE9BkC,EAAgBW,YAAY,eAIhCoM,EAAkB,SAAC5B,GAEnBA,EAAOU,GAAKV,EAAOC,MACnBD,EAAOY,GAAKZ,EAAOG,IACnBH,EAAOS,GAAKT,EAAOE,MACnBF,EAAOc,GAAKd,EAAOI,IAEfJ,EAAOC,MAAQD,EAAOG,MACtBH,EAAOU,GAAKV,EAAOG,IACnBH,EAAOY,GAAKZ,EAAOC,OAInBD,EAAOE,MAAQF,EAAOI,MACtBJ,EAAOS,GAAKT,EAAOI,IACnBJ,EAAOc,GAAKd,EAAOE,QAIvBqC,EAAmB,SAACrD,EAASc,EAAQnL,EAAiB+G,GACtD,GAAI4G,GAAU3N,EAAgBkB,yBAE1BoM,EAAajD,EAAWrK,EAAgBuB,iBAG5CoM,GAAQlO,QAAQ,SAAAC,GACZA,EAAIE,UAAUC,OAAOkH,EAAKjJ,oBACtBqN,EAAOgB,cAAczM,IAAU2K,IAAuC,IAA5BiD,EAAU3N,QAAQD,KAC5D4N,EAAU/M,KAAKb,GACfA,EAAIE,UAAUE,IAAIiH,EAAKjJ,sBAG/BkC,EAAgBW,YAAY,YAAa2M,IAGzClB,EAAwB,SAAC1M,EAAKmM,EAAID,EAAIG,EAAIE,EAAGjM,GAC7C,GAAI4N,GAAOlO,EAAImO,wBACX3L,EAAsBlC,EAAgBgC,uBAAuBtC,IAAQM,EAAgBU,cACpFwB,GAAoBtC,UAAUmB,SA/TX,oBAgUpBmB,EAAoBtC,UAAUE,IAhUV,kBAkUxB,IAAIgO,IACAjC,GAAInM,EAAI0G,iBAAmBlE,EAAoBkE,iBAC/C2F,GAAKrM,EAAI0G,iBAAmBwH,EAAK9B,MAAQ5J,EAAoBkE,iBAC7DwF,GAAIlM,EAAI2G,gBAAkBnE,EAAoBmE,gBAC9C4F,GAAKvM,EAAI2G,gBAAkBuH,EAAK5B,OAAS9J,EAAoBmE,gBAEjE,OAAOyH,GAAQ/B,GAAKF,GAAME,EAAK+B,EAAQjC,IAAMiC,EAAQ7B,GAAKL,GAAMK,EAAK6B,EAAQlC,KNs+B3E,SAAUtR,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GOpzCA+B,QAAO,SAACoE,EAAM/G,GACrBA,EAAgBW,YAAY,gBAGrBiH,gBACPmG,QAAS,SAAC7G,EAAGlH,EAAiB+G,GACX,MAAXG,EAAEa,QAAkBb,EAAEmD,SAAWnD,EAAEoD,SACnCtK,EAAgBW,YAAY,WAAYX,EAAgBuB,gBACtC,MAAX2F,EAAEa,OAAiBb,EAAEmD,SAC5BtD,EAAKxI,cAAcyB,EAAgBa,YAAY,gBP6zCrD,SAAUvG,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GQ50CA/B,qBAAoB,SAACkB,GAExBA,EAAOR,WAAaQ,EAAOb,SAAasD,SAAS0F,eAAenI,EAAOb,QAAQ9B,SAC/EoF,SAAS0F,eAAenI,EAAOb,QAAQ9B,OAAOuM,UAAY5J,EAAOR,UAAUC,URo1C7E,SAAUlF,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GS71CJ,IA4GHoN,IA5GOrL,OAAO,SAACoE,EAAM/G,GACrBA,EAAgBW,YAAY,sBAAuB,MACnDX,EAAgBW,YAAY,6BAA6B,IAGlD9B,oBAAoB,SAACkB,GAC5B,GAAIR,GAAYQ,EAAOR,UACnBS,EAAkBD,EAAOC,eACzBT,IAAaS,IACTT,EAAUC,OAAS,GACnBQ,EAAgBW,YAAY,sBAAuBpB,EAAUA,EAAUC,OAAS,IACvD,IAArBD,EAAUC,OACVQ,EAAgBW,YAAY,sBAAuBpB,EAAU,IAClC,iBAApBQ,EAAOd,UACde,EAAgBW,YAAY,sBAAuB,QAGvDX,EAAgBW,YAAY,sBAAuB,MACnDX,EAAgBW,YAAY,sBAAuB,SAKpDiH,gBACPqC,YAAa,SAAC/C,EAAGlH,GAEb,MADAA,GAAgBW,YAAY,8BAA+BX,EAAgBiB,qBAAqBiG,EAAEnF,UAC3F,GAEX8F,UAAW,SAAC5E,EAAOjD,EAAiBqM,GAChC,GAAIrM,EAAgBa,YAAY,6BAA8B,CAC1D,GAAIiH,GAAO7E,EAAM8E,KAEjB,IAAY,IAARD,GAAsB,IAARA,GAAsB,IAARA,GAAsB,IAARA,EAAY,CACtD,GAAImG,GAAejO,EAAgBa,YAAY,sBAE/C,IAAKoN,EAKE,CACHhL,EAAMuE,gBACN,IAAI0G,GAAe,QAAfA,GAAgBxO,GAChB,GAAIwC,GAAsBlC,EAAgBgC,uBAAuBtC,EACjE,KAAIwC,EAaA,OAAO,CAZP,IAAIA,IAAwBM,SAASC,KAAM,CACvC,GAAI0L,GAAUzO,EAAI2G,gBAAkBnE,EAAoBmE,iBAAmB3G,EAAI2C,aAAeiB,OAAOgG,aAAe,EAChH8E,EAAU1O,EAAI0G,iBAAmBlE,EAAoBkE,kBAAoB1G,EAAI6C,YAAce,OAAO8F,YAAc,CACpH9F,QAAO+K,SAASD,EAASD,OACtB,CACH,GAAIA,GAAUzO,EAAI2G,gBAAkBnE,EAAoBmE,iBAAmB3G,EAAI2C,aAAeH,EAAoBG,cAAgB,EAC9H+L,EAAU1O,EAAI0G,iBAAmBlE,EAAoBkE,kBAAoB1G,EAAI6C,YAAcL,EAAoBK,aAAe,CAClIL,GAAoBoM,UAAYH,EAChCjM,EAAoBqM,WAAaH,EAErCF,EAAahM,GAKrBgM,GAAaD,EAEb,IAAIO,GAAcR,EAAqBC,EAAcnG,EAAM9H,EAE3D,IAAMwO,EAAa,CACf,GAAIxP,KAEJ,IAAIiE,EAAMqJ,UAAYtM,EAAgBa,YAAY,wBAA0BwL,EAAOnO,kBAAmB,CAClGc,EAAegB,EAAgBuB,cAC/B,IAAII,GAAQ3C,EAAaW,QAAQ6O,EACjC,IAAY,IAAR1G,GAAsB,IAARA,GACC,IAAXnG,EACA3C,EAAauB,KAAKiO,GAElBxP,EAAa4C,OAAO5C,EAAaQ,OAAS,EAAG,OAE9C,CAGH,IAFA,GAAIiP,MACAC,EAAoBT,EACjBS,GAAqBA,IAAsBF,IAC9CE,EAAoBV,EAAqBU,EAA4B,IAAR5G,EAAc,GAAK,GAAI9H,KAEhFyO,EAAYlO,KAAKmO,IAGV,IAAX/M,EACA3C,EAAeA,EAAa2P,OAAOF,GAEnCzP,EAAa4C,OAAOD,EAAQ,GAIpC3B,EAAgBlB,gBAAgBE,EAAc,oBAE9CA,IAAgBwP,GAChBxO,EAAgBlB,gBAAgBE,EAIpC,OADAkP,GAAaM,IACN,OAhEI,CACX,GAAII,GAAe5O,EAAgBkB,yBAAyB,EACxD0N,IACA5O,EAAgBlB,iBAAiB8P,MAkErD,OAAO,IAIY,SAACC,EAAa/G,EAAM9H,GAC3C,GAAI8O,GAAsB9O,EAAgBkB,yBACtC6N,EAAWD,EAAoBnP,QAAQkP,EAC3C,KAAkB,IAAdE,EACA,MAAO,KACJ,IAAa,KAATjH,EAEP,MAAQgH,GAAoBC,EAAW,GAAMD,EAAoBC,EAAW,GAAK,IAC9E,IAAa,KAATjH,EAEP,MAAQgH,GAAoBC,EAAW,GAAMD,EAAoBC,EAAW,GAAK,IAGrF,IACInB,GAAOiB,EAAYhB,wBACnBmB,EAAOH,EAAYzI,iBAAmBwH,EAAK9B,MAAQ,EAAI+C,EAAYhI,kBACnEoI,EAAOJ,EAAYxI,iBAA6B,KAATyB,EAAe8F,EAAK5B,OAAS,GACpEkD,EAAoB,KAATpH,EAJA,MAMfmH,GAAOA,EAAOC,EAAUL,EAAYjI,gBAmBpC,OAjBqB,SAAjBuI,KACA,GAAIpN,GAASS,SAAS4M,iBAAiBJ,EAAMC,EAC7C,KAAIlN,EACA,MAAO,KAEX,IAAI0H,GAAoBzJ,EAAgBiB,qBAAqBc,EAC7D,OAAK0H,KACGzJ,EAAgB8B,sBAAsBC,IACtCkN,GAAcC,EACPC,KAEA,YTy2CjB,SAAU7U,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GU3/CAgH,iBACPmG,QAAS,SAAC7G,EAAGlH,EAAiB+G,GAE1B,GAAIxH,GAAYS,EAAgBuB,cAEhC,OAAc,MAAX2F,EAAEa,OAAiBxI,EAAUC,OAAS,GAAoC,kBAAxBuH,GAAKvJ,iBACtDuJ,EAAKvJ,eAAe+B,IACb,MVsgDb,SAAUjF,EAAQD,EAASM,GAEjC,YAGAY,QAAOC,eAAenB,EAAS,cAC3BuG,OAAO,GWnhDA+B,QAAO,SAACoE,EAAM/G,GACrBA,EAAgBW,YAAY,yBAAyB,IAG9CiH,gBACPC,UAAW,SAACX,EAAGlH,GACX,GAAIkH,EAAEmD,SAAWnD,EAAEoD,QAAS,CACxB,GAAIxC,GAAOZ,EAAEa,KAEb,KAAc,KAATD,GAAwB,KAATA,IAAgB9H,EAAgBa,YAAY,yBAA0B,CACtF,GAAI7B,GAAegB,EAAgBkB,wBAKnC,OAHAlB,GAAgBlB,gBAAgBE,GAEhCkI,EAAEM,kBACK,GAGf,OAAO,GAEXyC,YAAa,SAAC/C,EAAGlH,GAEb,MADAA,GAAgBW,YAAY,wBAAyBX,EAAgB8B,sBAAsBoF,EAAEnF,UACtF","file":"mka.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _dbClick = __webpack_require__(1);\n\nvar dbClick = _interopRequireWildcard(_dbClick);\n\nvar _rightClick = __webpack_require__(2);\n\nvar rightClick = _interopRequireWildcard(_rightClick);\n\nvar _DragAndDrop = __webpack_require__(3);\n\nvar dndHandler = _interopRequireWildcard(_DragAndDrop);\n\nvar _select = __webpack_require__(4);\n\nvar select = _interopRequireWildcard(_select);\n\nvar _copyPaste = __webpack_require__(5);\n\nvar copyPaste = _interopRequireWildcard(_copyPaste);\n\nvar _count = __webpack_require__(6);\n\nvar count = _interopRequireWildcard(_count);\n\nvar _arrows = __webpack_require__(7);\n\nvar arrows = _interopRequireWildcard(_arrows);\n\nvar _deleteShortcut = __webpack_require__(8);\n\nvar deleteShortcut = _interopRequireWildcard(_deleteShortcut);\n\nvar _selectAllShortcut = __webpack_require__(9);\n\nvar selectAllShortcut = _interopRequireWildcard(_selectAllShortcut);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"multipleSelection\": true,\n    \"lasso\": true,\n    \"lassoBorder\": \"1px solid rgba(255,0,0,0.8)\",\n    \"lassoOpacity\": \"0.5\",\n    \"lassoBackground\": \"rgba(255,0,0,0.5)\",\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": function pasteFunction(items) {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n};\n\nvar _updateSelection = function _updateSelection(container, newSelection, actionId) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n    var selectables = container.mkaParams.selectables;\n\n    var sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(function (elt) {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(function (elt) {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(function (elt) {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        var params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        };\n        components.forEach(function (component) {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n};\n\nvar getConfigs = function getConfigs(clientConfigs) {\n    var configs = {};\n    Object.keys(defaultConfigs).forEach(function (i) {\n        configs[i] = typeof clientConfigs[i] !== 'undefined' ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n};\n\nvar pushComponents = function pushComponents(container) {\n    var configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n};\n\nvar getPublicFunctions = function getPublicFunctions(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: function getContainer() {\n            return container;\n        },\n        setProperty: function setProperty(key, value) {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: function getProperty(key) {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: function elementIsSelected(elt) {\n            if (elt && elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: function getSelectableElement(elt) {\n            var selectables = container.mkaParams.selectables;\n            if (elt && elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: function getSelectablesElements() {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: function getLastSelectedInDom() {\n            var last = null;\n            container.mkaParams.selection.forEach(function (elt) {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: function getSelection() {\n            var copy = [];\n            container.mkaParams.selection.forEach(function (elt) {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: function updateSelection(newSelection, actionId) {\n            _updateSelection(container, newSelection, actionId);\n        },\n        removeElements: function removeElements(elements) {\n            elements.forEach(function (elt) {\n                var index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(function (component) {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: function isMkaContainerFocused(target) {\n            if (target === container) {\n                return true;\n            }\n            while (target.parentNode) {\n                target = target.parentNode;\n                if (target === container) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getScrollableContainer: function getScrollableContainer(childElement) {\n            var scrollableContainer = null;\n            var currentElt = childElement;\n            while (!!currentElt.parentNode && !scrollableContainer) {\n                currentElt = currentElt.parentNode;\n                if (currentElt.scrollHeight > currentElt.offsetHeight + 30 || currentElt.scrollWidth > currentElt.offsetWidth + 30 || currentElt === document.body) {\n                    scrollableContainer = currentElt;\n                }\n            }\n            return scrollableContainer;\n        }\n    };\n};\n\nvar initComponents = function initComponents(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n};\n\nvar bindEvents = function bindEvents(container) {\n    var publicFunctions = getPublicFunctions(container);\n    var components = container.mkaParams.components;\n\n    var bindComponentsEvents = function bindComponentsEvents(target, eventName) {\n        var saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = function (event) {\n            var stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(function (component) {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return { forceStop: stop };\n        };\n    };\n\n    var mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    var mouseEventsTargets = [{ name: \"windowEvents\", value: window }, { name: \"documentEvents\", value: document.body }, { name: \"mkaEvents\", value: container }];\n\n    var keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(function (mouseEventTarget) {\n        mouseEventsList.forEach(function (mouseEventName) {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(function (keyEventName) {\n        bindComponentsEvents({ name: \"windowEvents\", value: window }, keyEventName);\n    });\n};\n\nvar refreshComponents = function refreshComponents(container) {\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs, getPublicFunctions(container));\n    });\n};\n\nvar updateSelectableElements = function updateSelectableElements(container, elements) {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(function (elt) {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(function (elt) {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n};\n\nvar mkaRefresh = function mkaRefresh(container) {\n    var newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    var newSelection = [];\n    container.mkaParams.selection.forEach(function (elt) {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    _updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n};\n\nvar listenContainerDOMChange = function listenContainerDOMChange(container) {\n    var containsSelectableElement = function containsSelectableElement(node) {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        var parentNode = node.parentNode;\n        if (parentNode) {\n            var selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (var i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n    };\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            var needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (var i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (var _i = 0; _i < mutation.removedNodes.length; _i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(_i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, { childList: true, subtree: true });\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n};\n\nvar isMobileDevice = function isMobileDevice() {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    var container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    var configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    var selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    var container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n};\n\nHTMLElement.prototype.mkaReset = function () {\n    _updateSelection(this, []);\n};\n\nvar getOffsetBody = function getOffsetBody(elt, offsetType) {\n    var offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n};\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n};\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n};\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n};\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n};\n\nvar getScrollTotal = function getScrollTotal(elt, scrollType) {\n    var scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n};\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n};\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    ondblclick: function ondblclick(e, parentFunctions, conf) {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (e) {\n        var currentDate = new Date();\n        var lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && currentDate - lastTouchDate < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n};\n\nvar launchDbClick = function launchDbClick(e, parentFunctions, conf) {\n    var element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar mkarcmenuId = 'mkarcmenu';\n\nvar init = exports.init = function init(conf, parentFunctions) {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(event) {\n        var code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: function onclick(event) {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n};\n\nvar menuIsOpen = function menuIsOpen() {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n};\n\nvar removeMkaRcMenu = function removeMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n};\n\nvar getMkaRcMenu = function getMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n        menu.style.position = 'fixed';\n        menu.style.zIndex = '20000';\n        document.body.appendChild(menu);\n    }\n    return menu;\n};\n\nvar setMenuPosition = function setMenuPosition(menu, event) {\n\n    menu.style.opacity = '0';\n    menu.style.display = 'block';\n\n    var menuHeight = menu.scrollHeight;\n    var menuWidth = menu.scrollWidth;\n\n    var left = event.pageX - document.body.scrollLeftTotal();\n    var top = event.pageY - document.body.scrollTopTotal();\n\n    var displayLeft = left + menuWidth > window.innerWidth;\n    var displayAbove = top + menuHeight > window.innerHeight;\n\n    menu.style.left = left - (displayLeft ? menuWidth : 0) + 'px';\n    menu.style.right = \"auto\";\n    menu.style.top = top - (displayAbove ? menuHeight : 0) + 'px';\n    menu.style.bottom = \"auto\";\n\n    menu.style.opacity = '1';\n};\n\nvar bindContextMenu = function bindContextMenu(conf, parentFunctions) {\n\n    // On dsactive le click droit sur l'lment principal\n    parentFunctions.getContainer().addEventListener('contextmenu', function (event) {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        var selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'lment n'est pas slectionn, on restreint la slection  ce seul lment\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        var selection = parentFunctions.getSelection();\n\n        var menu = getMkaRcMenu();\n        var htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event);\n    });\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', function () {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    var elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(function (elt) {\n        if (!elt.dragBinded) {\n            elt.dragBinded = true;\n            bindDragEvents(elt, parentFunctions, conf);\n        }\n    });\n\n    if (conf.droppableElements) {\n        var droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(function (elt) {\n            if (!elt.dropBinded) {\n                elt.dropBinded = true;\n                bindDropEvents(elt, parentFunctions, conf);\n            }\n        });\n    }\n};\n\nvar refresh = exports.refresh = function refresh(selectables, conf, parentFunctions) {\n    init(conf, parentFunctions);\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    params.selectables.forEach(function (elt) {\n        elt.draggable = false;\n    });\n    params.selection.forEach(function (elt) {\n        elt.draggable = true;\n    });\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions) {\n        var isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        return !event.ctrlKey && !event.metaKey && parentFunctions.getProperty('draggableTarget');\n    },\n    onmouseup: function onmouseup(event, parentFunctions) {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nvar bindDragEvents = function bindDragEvents(element, parentFunctions, conf) {\n\n    element.addEventListener('dragstart', function (e) {\n        // On recupere les lts slectionns\n        var selection = parentFunctions.getSelection();\n\n        e.dataTransfer.setData('text/plain', '');\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach(function (elt) {\n            return elt.classList.add(\"on-drag\");\n        });\n        /*\n                let innerCode = \"\";\n                let wrapper = document.createElement('div');\n                const wrapperSize = selection[0].scrollWidth;\n        \n                //On rajoute le code html de chaque lments dans une variable\n                //Chaque lment possde une div parente (Ncessaire lorsque le wrapper passe dans setWrapperStyle)\n                selection.forEach((elt) => {\n                    innerCode += `<div> ${elt.innerHTML} </div>`;\n                });\n        \n                //On set le innerHTML avec tous les lments rcuprs prcedemment\n                wrapper.innerHTML = innerCode;\n                wrapper.id = \"wrapper-drag\";\n                wrapper.style.width = wrapperSize + \"px\";\n        \n                //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n                wrapper.style.position = \"absolute\";\n                wrapper.style.top = \"-10000px\";\n        \n                wrapper = setWrapperStyle(wrapper, conf);\n        \n                document.body.appendChild(wrapper);\n        \n                e.dataTransfer.setDragImage(wrapper, 0, 0);\n        \n                e.dataTransfer.setData('text/plain', '');\n        */\n    });\n\n    element.addEventListener('dragend', function (e) {\n        var selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n        /*        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n        */\n        // on retire la class\n        selection.forEach(function (elt) {\n            return elt.classList.remove(\"on-drag\");\n        });\n    });\n};\n\nvar bindDropEvents = function bindDropEvents(dropper, parentFunctions, conf) {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la slection sur la zone dropable\n        // on execute l'action dfini par l'utilsateur\n        var selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n};\n\nvar setWrapperStyle = function setWrapperStyle(wrapper, conf) {\n    //On rcupre les lments enfants du wrapper qui servira pour le drag\n    var wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui sparera les lments en fonction du nombre d'lments dans la liste\n    var childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque lment du wrapper\n    for (var i = 0; i < wrapperChildren.length; i++) {\n        var child = wrapperChildren[i];\n\n        //Si l'utilisateur a configur le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par dfaut si l'utilisateur n'a pas configur le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque lment a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le dcalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = i * childDistance + \"px\";\n        child.style.left = i * childDistance + \"px\";\n\n        //Lorsqu'on parcourt le dernier lment et qu'il y a plus d'un lement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On cre une span qui contiendra le nombre d'lements selectionns\n            var span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configur le onDragItemClass alors on applique un style par dfaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar lassoContainerClass = \"lasso-container\";\n\nvar customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + lassoContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    var squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    var square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: function get() {\n            var squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.background = conf.lassoBackground;\n                squareElt.style.border = conf.lassoBorder;\n                squareElt.style.opacity = conf.lassoOpacity;\n                squareElt.style.display = \"none\";\n            }\n            return squareElt;\n        },\n        refresh: function refresh() {\n            var squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = square.x2 - square.x1 + \"px\";\n            squareElt.style.height = square.y2 - square.y1 + \"px\";\n        },\n        remove: function remove() {\n            var lasso = square.get();\n            if (lasso && lasso.parentNode) {\n                lasso.parentNode.removeChild(lasso);\n            }\n        },\n        isVisble: function isVisble() {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: function isCrossingElt(elt) {\n            //            let container = parentFunctions.getContainer();\n            //            let scrollTop = container.scrollTopTotal() - document.body.scrollTopTotal();\n            //            let scrollLeft = container.scrollLeftTotal() - document.body.scrollLeftTotal();\n            return elementIsCrossingZone(elt, square.x1, square.y1, square.x2, square.y2, parentFunctions);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions, config) {\n        // On dmarre la slection si on utilise le bouton gauche de la souris\n        if (event.which === 1 && config.multipleSelection) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                var square = parentFunctions.getProperty('square');\n                var scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n\n                if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n                    scrollableContainer.classList.add(lassoContainerClass);\n                }\n\n                var left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n                var top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n                // zone du click\n                square.downX = +left;\n                square.downY = +top;\n                square.upX = +left;\n                square.upY = +top;\n                scrollableContainer.appendChild(square.get());\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                var selectableElements = parentFunctions.getSelectablesElements();\n                var selection = parentFunctions.getSelection();\n                var newSelection = [];\n\n                var element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    var focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        var elementIndex = selectableElements.indexOf(element);\n                        var firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        var lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey || event.metaKey) {\n                            selection.forEach(function (elt) {\n                                var eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (var i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: function ondblclick(event, parentFunctions, conf) {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions, conf) {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            var isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !event.metaKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(event, parentFunctions, conf) {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                var selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    if (conf.multipleSelection) {\n                        var lastSelection = parentFunctions.getSelection();\n                        var index = lastSelection.indexOf(selectableElt);\n                        var newSelection = [selectableElt];\n\n                        if (event.ctrlKey || event.metaKey || conf.isMobileDevice && index !== -1) {\n                            newSelection = lastSelection;\n                            if (index !== -1) {\n                                newSelection.splice(index, 1);\n                            } else {\n                                newSelection.push(selectableElt);\n                            }\n                        }\n\n                        var selecting = [];\n                        newSelection.forEach(function (elt) {\n                            selecting.push(elt);\n                            elt.classList.add(conf.eltSelectingClass);\n                        });\n                        parentFunctions.setProperty('selecting', selecting);\n                    } else {\n                        parentFunctions.updateSelection([selectableElt]);\n                    }\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: function onmouseup(event, parentFunctions, conf) {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    if (conf.multipleSelection) {\n        parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n            var dateStart = new Date();\n            parentFunctions.setProperty('select.startLongPress', dateStart);\n            setTimeout(function () {\n                if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                    var selection = parentFunctions.getSelection();\n                    var eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                    if (eltSelectable) {\n                        var indexElt = selection.indexOf(eltSelectable);\n                        if (indexElt === -1) {\n                            selection.push(eltSelectable);\n                        }\n                        parentFunctions.updateSelection(selection);\n                    }\n                }\n            }, conf.longPressDelay);\n        });\n\n        parentFunctions.getContainer().addEventListener('touchend', function () {\n            parentFunctions.setProperty('select.startLongPress', null);\n        });\n\n        parentFunctions.getContainer().addEventListener('touchmove', function () {\n            parentFunctions.setProperty('select.startLongPress', null);\n        });\n    }\n};\n\nvar refreshLasso = function refreshLasso(event, parentFunctions, conf) {\n    var square = parentFunctions.getProperty('square');\n    var scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    var left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    var top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n\n    square.upX = +left;\n    square.upY = +top;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey || event.metaKey, square, parentFunctions, conf);\n    square.refresh();\n};\n\nvar endLasso = function endLasso(parentFunctions, conf) {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n};\n\nvar pushSelectingElements = function pushSelectingElements(parentFunctions, conf) {\n    if (parentFunctions.getProperty('selecting')) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n};\n\nvar clearSelecting = function clearSelecting(parentFunctions, conf) {\n    if (parentFunctions.getProperty('selecting')) {\n        parentFunctions.getProperty('selecting').forEach(function (elt) {\n            elt.classList.remove(conf.eltSelectingClass);\n        });\n        parentFunctions.setProperty('selecting');\n    }\n};\n\nvar orderCoordinate = function orderCoordinate(square) {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n};\n\nvar selectLassoItems = function selectLassoItems(ctrlKey, square, parentFunctions, conf) {\n    var mkaElts = parentFunctions.getSelectablesElements();\n\n    var selecting = ctrlKey ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionn\n    mkaElts.forEach(function (elt) {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n};\n\nvar elementIsCrossingZone = function elementIsCrossingZone(elt, x1, y1, x2, y2, parentFunctions) {\n    var rect = elt.getBoundingClientRect();\n    var scrollableContainer = parentFunctions.getScrollableContainer(elt) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    var zoneElt = {\n        x1: elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft(),\n        x2: elt.offsetBodyLeft() + rect.width - scrollableContainer.offsetBodyLeft(),\n        y1: elt.offsetBodyTop() - scrollableContainer.offsetBodyTop(),\n        y2: elt.offsetBodyTop() + rect.height - scrollableContainer.offsetBodyTop()\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('copyElts', []);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n        if (e.which == '67' && (e.ctrlKey || e.metaKey)) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    // si l'lment HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    var selection = params.selection;\n    var parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('arrows.isContainerFocused', !!parentFunctions.getSelectableElement(e.target));\n        return false;\n    },\n    onkeydown: function onkeydown(event, parentFunctions, config) {\n        if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n            var code = event.which;\n            //37=left , 38=top , 39=right , 40=bottom\n            if (code == 37 || code == 38 || code == 39 || code == 40) {\n                var lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n                if (!lastSelected) {\n                    var firstElement = parentFunctions.getSelectablesElements()[0];\n                    if (firstElement) {\n                        parentFunctions.updateSelection([firstElement]);\n                    }\n                } else {\n                    event.preventDefault();\n                    var centerScroll = function centerScroll(elt) {\n                        var scrollableContainer = parentFunctions.getScrollableContainer(elt);\n                        if (scrollableContainer) {\n                            if (scrollableContainer === document.body) {\n                                var scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                                var scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                                window.scrollTo(scrollX, scrollY);\n                            } else {\n                                var _scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                                var _scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                                scrollableContainer.scrollTop = _scrollY;\n                                scrollableContainer.scrollLeft = _scrollX;\n                            }\n                            centerScroll(scrollableContainer);\n                        } else {\n                            return false;\n                        }\n                    };\n                    centerScroll(lastSelected);\n\n                    var nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                    if (!!nextElement) {\n                        var newSelection = [];\n\n                        if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus') && config.multipleSelection) {\n                            newSelection = parentFunctions.getSelection();\n                            var index = newSelection.indexOf(nextElement);\n                            if (code == 37 || code == 39) {\n                                if (index === -1) {\n                                    newSelection.push(nextElement);\n                                } else {\n                                    newSelection.splice(newSelection.length - 1, 1);\n                                }\n                            } else {\n                                var newElements = [];\n                                var searchNextElement = lastSelected;\n                                while (searchNextElement && searchNextElement !== nextElement) {\n                                    searchNextElement = calculateNextElement(searchNextElement, code == 38 ? 37 : 39, parentFunctions);\n                                    if (searchNextElement) {\n                                        newElements.push(searchNextElement);\n                                    }\n                                }\n                                if (index === -1) {\n                                    newSelection = newSelection.concat(newElements);\n                                } else {\n                                    newSelection.splice(index + 1);\n                                }\n                            }\n                            parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                        } else {\n                            newSelection = [nextElement];\n                            parentFunctions.updateSelection(newSelection);\n                        }\n\n                        centerScroll(nextElement);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n};\n\nvar calculateNextElement = function calculateNextElement(fromElement, code, parentFunctions) {\n    var selectablesElements = parentFunctions.getSelectablesElements();\n    var indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return selectablesElements[indexElt - 1] ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return selectablesElements[indexElt + 1] ? selectablesElements[indexElt + 1] : null;\n    }\n\n    var interval = 10;\n    var rect = fromElement.getBoundingClientRect();\n    var posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    var posY = fromElement.offsetBodyTop() + (code === 40 ? rect.height : 0);\n    var updateY = code === 40 ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    var getNextElement = function getNextElement() {\n        var target = document.elementFromPoint(posX, posY);\n        if (!target) {\n            return null;\n        }\n        var selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    };\n    var nextElement = getNextElement();\n    return nextElement;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n\n        var selection = parentFunctions.getSelection();\n\n        if (e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(e, parentFunctions) {\n        if (e.ctrlKey || e.metaKey) {\n            var code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                var newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mka.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c1b286caf4cb1b2e0e15","import * as dbClick from './dbClick';\nimport * as rightClick from './rightClick';\nimport * as dndHandler from './DragAndDrop';\nimport * as select from './select';\nimport * as copyPaste from './copyPaste';\nimport * as count from './count';\nimport * as arrows from './arrows';\nimport * as deleteShortcut from './deleteShortcut';\nimport * as selectAllShortcut from './selectAllShortcut';\n\nlet defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"multipleSelection\": true,\n    \"lasso\": true,\n    \"lassoBorder\": \"1px solid rgba(255,0,0,0.8)\",\n    \"lassoOpacity\": \"0.5\",\n    \"lassoBackground\": \"rgba(255,0,0,0.5)\",\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": (items) => {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n}\n\nlet updateSelection = (container, newSelection, actionId) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n    let selectables = container.mkaParams.selectables;\n\n    let sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(elt => {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(elt => {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(elt => {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        let params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        }\n        components.forEach(component => {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n}\n\nlet getConfigs = (clientConfigs) => {\n    let configs = {};\n    Object.keys(defaultConfigs).forEach((i) => {\n        configs[i] = (typeof clientConfigs[i] !== 'undefined') ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n}\n\nlet pushComponents = (container) => {\n    let configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n}\n\nlet getPublicFunctions = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: () => {\n            return container;\n        },\n        setProperty: (key, value) => {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: (key) => {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: (elt) => {\n            if (elt && elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: (elt) => {\n            let selectables = container.mkaParams.selectables;\n            if (elt && elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt && elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: () => {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: () => {\n            let last = null;\n            container.mkaParams.selection.forEach(elt => {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: () => {\n            let copy = [];\n            container.mkaParams.selection.forEach(elt => {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: (newSelection, actionId) => {\n            updateSelection(container, newSelection, actionId);\n        },\n        removeElements: (elements) => {\n            elements.forEach(elt => {\n                let index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(component => {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: (target) => {\n            if (target === container) {\n                return true;\n            }\n            while (target.parentNode) {\n                target = target.parentNode;\n                if (target === container) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getScrollableContainer: (childElement) => {\n            let scrollableContainer = null;\n            let currentElt = childElement;\n            while (!!currentElt.parentNode && !scrollableContainer) {\n                currentElt = currentElt.parentNode;\n                if (currentElt.scrollHeight > currentElt.offsetHeight+30 || currentElt.scrollWidth > currentElt.offsetWidth+30 || currentElt === document.body) {\n                    scrollableContainer = currentElt;\n                }\n            }\n            return scrollableContainer;\n        }\n    }\n}\n\nlet initComponents = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n}\n\nlet bindEvents = (container) => {\n    let publicFunctions = getPublicFunctions(container);\n    let components = container.mkaParams.components;\n\n    let bindComponentsEvents = (target, eventName) => {\n        let saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = (event) => {\n            let stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(component => {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return {forceStop: stop};\n        }\n    }\n\n    let mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    let mouseEventsTargets = [\n        {name: \"windowEvents\", value: window},\n        {name: \"documentEvents\", value: document.body},\n        {name: \"mkaEvents\", value: container}\n    ];\n\n    let keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(mouseEventTarget => {\n        mouseEventsList.forEach(mouseEventName => {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(keyEventName => {\n        bindComponentsEvents({name: \"windowEvents\", value: window}, keyEventName);\n    });\n}\n\nlet refreshComponents = (container) => {\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs, getPublicFunctions(container));\n    });\n}\n\nlet updateSelectableElements = (container, elements) => {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(elt => {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(elt => {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n}\n\nlet mkaRefresh = (container) => {\n    let newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    let newSelection = [];\n    container.mkaParams.selection.forEach(elt => {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n}\n\nlet listenContainerDOMChange = (container) => {\n    let containsSelectableElement = (node) => {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        let parentNode = node.parentNode;\n        if (parentNode) {\n            let selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (let i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n\n    }\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            let needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (let i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (let i = 0; i < mutation.removedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, {childList: true, subtree: true});\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n}\n\nlet isMobileDevice = () => {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    let container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    let configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    let selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    let container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n\n}\n\nHTMLElement.prototype.mkaReset = function () {\n    updateSelection(this, []);\n}\n\nlet getOffsetBody = (elt, offsetType) => {\n    let offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n}\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n}\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n}\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n}\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n}\n\nlet getScrollTotal = (elt, scrollType) => {\n    let scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n}\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n}\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let mkaEvents = {\n    ondblclick: (e, parentFunctions, conf) => {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (e) => {\n        let currentDate = new Date();\n        let lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && (currentDate - lastTouchDate) < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n}\n\nlet launchDbClick = (e, parentFunctions, conf) => {\n    let element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dbClick.js","const mkarcmenuId = 'mkarcmenu';\n\nexport let init = (conf, parentFunctions) => {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let windowEvents = {\n    onkeydown: (event) => {\n        let code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: (event) => {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n}\n\nlet menuIsOpen = () => {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n}\n\nlet removeMkaRcMenu = () => {\n    const menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n}\n\nlet getMkaRcMenu = () => {\n    let menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n        menu.style.position = 'fixed';\n        menu.style.zIndex = '20000';\n        document.body.appendChild(menu);\n    }\n    return menu;\n}\n\nlet setMenuPosition = (menu, event) => {\n    \n    menu.style.opacity = '0';\n    menu.style.display = 'block';\n    \n    const menuHeight = menu.scrollHeight;\n    const menuWidth = menu.scrollWidth;\n    \n    let left = event.pageX - document.body.scrollLeftTotal();\n    let top = event.pageY - document.body.scrollTopTotal();\n\n    let displayLeft = left + menuWidth > window.innerWidth;\n    let displayAbove = top + menuHeight > window.innerHeight;\n    \n    menu.style.left = (left - (displayLeft?menuWidth:0)) + 'px';\n    menu.style.right = \"auto\";\n    menu.style.top = (top - (displayAbove?menuHeight:0)) + 'px';\n    menu.style.bottom = \"auto\";\n    \n    menu.style.opacity = '1';\n}\n\nlet bindContextMenu = (conf, parentFunctions) => {\n\n    // On dsactive le click droit sur l'lment principal\n    parentFunctions.getContainer().addEventListener('contextmenu', (event) => {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        const selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'lment n'est pas slectionn, on restreint la slection  ce seul lment\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        let selection = parentFunctions.getSelection();\n\n        let menu = getMkaRcMenu();\n        let htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event);\n    });\n\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', () => {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/rightClick.js","export let init = (conf, parentFunctions) => {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    let elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(elt => {\n        if(!elt.dragBinded){\n            elt.dragBinded = true;\n            bindDragEvents(elt, parentFunctions, conf);\n        }\n    });\n\n    if (conf.droppableElements) {\n        let droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(elt => {\n            if(!elt.dropBinded){\n                elt.dropBinded = true;\n                bindDropEvents(elt, parentFunctions, conf)\n            }\n        });\n    }\n}\n\nexport let refresh = (selectables, conf, parentFunctions) => {\n    init(conf, parentFunctions);\n};\n\nexport let onSelectionUpdate = (params) => {\n    params.selectables.forEach(elt => {\n        elt.draggable = false;\n    });\n    params.selection.forEach(elt => {\n        elt.draggable = true;\n    });\n};\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions) => {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions) => {\n        let isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nexport let windowEvents = {\n    onmousedown: (event, parentFunctions) => {\n        return !event.ctrlKey && !event.metaKey && parentFunctions.getProperty('draggableTarget');\n    },\n    onmouseup: (event, parentFunctions) => {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nlet bindDragEvents = (element, parentFunctions, conf) => {\n\n    \n    element.addEventListener('dragstart', function (e) {\n        // On recupere les lts slectionns\n        let selection = parentFunctions.getSelection();\n        \n        e.dataTransfer.setData('text/plain', '');\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach((elt) => elt.classList.add(\"on-drag\"));\n/*\n        let innerCode = \"\";\n        let wrapper = document.createElement('div');\n        const wrapperSize = selection[0].scrollWidth;\n\n        //On rajoute le code html de chaque lments dans une variable\n        //Chaque lment possde une div parente (Ncessaire lorsque le wrapper passe dans setWrapperStyle)\n        selection.forEach((elt) => {\n            innerCode += `<div> ${elt.innerHTML} </div>`;\n        });\n\n        //On set le innerHTML avec tous les lments rcuprs prcedemment\n        wrapper.innerHTML = innerCode;\n        wrapper.id = \"wrapper-drag\";\n        wrapper.style.width = wrapperSize + \"px\";\n\n        //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"-10000px\";\n\n        wrapper = setWrapperStyle(wrapper, conf);\n\n        document.body.appendChild(wrapper);\n\n        e.dataTransfer.setDragImage(wrapper, 0, 0);\n\n        e.dataTransfer.setData('text/plain', '');\n*/\n    });\n\n    element.addEventListener('dragend', function (e) {\n       let selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n/*        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n*/\n        // on retire la class\n        selection.forEach((elt) => elt.classList.remove(\"on-drag\"));\n    });\n}\n\nlet bindDropEvents = (dropper, parentFunctions, conf) => {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la slection sur la zone dropable\n        // on execute l'action dfini par l'utilsateur\n        let selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n}\n\n\nlet setWrapperStyle = (wrapper, conf) => {\n    //On rcupre les lments enfants du wrapper qui servira pour le drag\n    let wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui sparera les lments en fonction du nombre d'lments dans la liste\n    let childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque lment du wrapper\n    for (let i = 0; i < wrapperChildren.length; i++) {\n        let child = wrapperChildren[i];\n\n        //Si l'utilisateur a configur le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par dfaut si l'utilisateur n'a pas configur le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque lment a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le dcalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = (i * childDistance) + \"px\";\n        child.style.left = (i * childDistance) + \"px\";\n\n        //Lorsqu'on parcourt le dernier lment et qu'il y a plus d'un lement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On cre une span qui contiendra le nombre d'lements selectionns\n            let span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configur le onDragItemClass alors on applique un style par dfaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/DragAndDrop.js","const lassoContainerClass = \"lasso-container\";\n\nlet customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + lassoContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nexport let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    let squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    let square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: () => {\n            let squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.background = conf.lassoBackground;\n                squareElt.style.border = conf.lassoBorder;\n                squareElt.style.opacity = conf.lassoOpacity;\n                squareElt.style.display = \"none\";\n            }\n            return squareElt;\n        },\n        refresh: () => {\n            let squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = (square.x2 - square.x1) + \"px\";\n            squareElt.style.height = (square.y2 - square.y1) + \"px\";\n        },\n        remove: () => {\n            const lasso = square.get();\n            if(lasso && lasso.parentNode) {\n                lasso.parentNode.removeChild(lasso);\n            }\n        },\n        isVisble: () => {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: (elt) => {\n//            let container = parentFunctions.getContainer();\n//            let scrollTop = container.scrollTopTotal() - document.body.scrollTopTotal();\n//            let scrollLeft = container.scrollLeftTotal() - document.body.scrollLeftTotal();\n            return elementIsCrossingZone(elt, square.x1, square.y1, square.x2, square.y2,parentFunctions);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n}\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions, config) => {\n        // On dmarre la slection si on utilise le bouton gauche de la souris\n        if (event.which === 1 && config.multipleSelection) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                let square = parentFunctions.getProperty('square');\n                let scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n                \n                if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n                    scrollableContainer.classList.add(lassoContainerClass);\n                }\n                \n                let left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n                let top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n                \n                // zone du click\n                square.downX = +left;\n                square.downY = +top;\n                square.upX = +left;\n                square.upY = +top;\n                scrollableContainer.appendChild(square.get());\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                let selectableElements = parentFunctions.getSelectablesElements();\n                let selection = parentFunctions.getSelection();\n                let newSelection = [];\n\n                let element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    let focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        let elementIndex = selectableElements.indexOf(element);\n                        let firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        let lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey || event.metaKey) {\n                            selection.forEach(elt => {\n                                let eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (let i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: (event, parentFunctions, conf) => {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions, conf) => {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            let isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !event.metaKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nexport let windowEvents = {\n    onmousedown: (event, parentFunctions, conf) => {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                let selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    if(conf.multipleSelection) {\n                        let lastSelection = parentFunctions.getSelection();\n                        let index = lastSelection.indexOf(selectableElt);\n                        let newSelection = [selectableElt];\n\n                        if (event.ctrlKey || event.metaKey || (conf.isMobileDevice && index !== -1)) {\n                            newSelection = lastSelection;\n                            if (index !== -1) {\n                                newSelection.splice(index, 1);\n                            } else {\n                                newSelection.push(selectableElt);\n                            }\n                        }\n\n                        let selecting = [];\n                        newSelection.forEach(elt => {\n                            selecting.push(elt);\n                            elt.classList.add(conf.eltSelectingClass);\n                        });\n                        parentFunctions.setProperty('selecting', selecting);\n                    } else {\n                        parentFunctions.updateSelection([selectableElt]);\n                    }\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: (event, parentFunctions, conf) => {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    if(conf.multipleSelection) {\n        parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n            let dateStart = new Date();\n            parentFunctions.setProperty('select.startLongPress', dateStart);\n            setTimeout(() => {\n                if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                    let selection = parentFunctions.getSelection();\n                    let eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                    if (eltSelectable) {\n                        const indexElt = selection.indexOf(eltSelectable);\n                        if (indexElt === -1) {\n                            selection.push(eltSelectable);\n                        }\n                        parentFunctions.updateSelection(selection);\n                    }\n                }\n            }, conf.longPressDelay);\n        });\n\n        parentFunctions.getContainer().addEventListener('touchend', () => {\n            parentFunctions.setProperty('select.startLongPress', null);\n        });\n\n        parentFunctions.getContainer().addEventListener('touchmove', () => {\n            parentFunctions.setProperty('select.startLongPress', null);\n        });\n    }\n};\n\nlet refreshLasso = (event, parentFunctions, conf) => {\n    let square = parentFunctions.getProperty('square');\n    let scrollableContainer = parentFunctions.getScrollableContainer(event.target) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    let left = event.pageX - (scrollableContainer.offsetBodyLeft() - scrollableContainer.scrollLeftTotal() + document.body.scrollLeftTotal());\n    let top = event.pageY - (scrollableContainer.offsetBodyTop() - scrollableContainer.scrollTopTotal() + document.body.scrollTopTotal());\n    \n    square.upX = +left;\n    square.upY = +top;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey || event.metaKey, square, parentFunctions, conf);\n    square.refresh();\n\n};\n\nlet endLasso = (parentFunctions, conf) => {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n}\n\nlet pushSelectingElements = (parentFunctions, conf) => {\n    if (parentFunctions.getProperty('selecting')) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n}\n\nlet clearSelecting = (parentFunctions, conf) => {\n    if(parentFunctions.getProperty('selecting')) {\n        parentFunctions.getProperty('selecting').forEach(elt => {\n            elt.classList.remove(conf.eltSelectingClass);\n        });\n        parentFunctions.setProperty('selecting');\n    }\n}\n\nlet orderCoordinate = (square) => {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n}\n\nlet selectLassoItems = (ctrlKey, square, parentFunctions, conf) => {\n    let mkaElts = parentFunctions.getSelectablesElements();\n\n    let selecting = (ctrlKey) ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionn\n    mkaElts.forEach(elt => {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n}\n\nlet elementIsCrossingZone = (elt, x1, y1, x2, y2,parentFunctions) => {\n    let rect = elt.getBoundingClientRect();\n    let scrollableContainer = parentFunctions.getScrollableContainer(elt) || parentFunctions.getContainer();\n    if (!scrollableContainer.classList.contains(lassoContainerClass)) {\n        scrollableContainer.classList.add(lassoContainerClass);\n    }\n    let zoneElt = {\n        x1: elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft(),\n        x2: (elt.offsetBodyLeft() + rect.width - scrollableContainer.offsetBodyLeft()),\n        y1: elt.offsetBodyTop() - scrollableContainer.offsetBodyTop(),\n        y2: (elt.offsetBodyTop() + rect.height - scrollableContainer.offsetBodyTop())\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/select.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('copyElts', []);\n}\n\nexport let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n        if (e.which == '67' && (e.ctrlKey ||e.metaKey)) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/copyPaste.js","export let onSelectionUpdate = (params) => {\n// si l'lment HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/count.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n}\n\nexport let onSelectionUpdate = (params) => {\n    let selection = params.selection;\n    let parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n}\n\nexport let windowEvents = {\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('arrows.isContainerFocused', !!parentFunctions.getSelectableElement(e.target));\n        return false;\n    },\n    onkeydown: (event, parentFunctions, config) => {\n        if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n            let code = event.which;\n            //37=left , 38=top , 39=right , 40=bottom\n            if (code == 37 || code == 38 || code == 39 || code == 40) {\n                let lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n                if (!lastSelected) {\n                        let firstElement = parentFunctions.getSelectablesElements()[0];\n                        if (firstElement) {\n                            parentFunctions.updateSelection([firstElement]);\n                        }\n                } else {\n                    event.preventDefault();\n                    let centerScroll = (elt) => {\n                        let scrollableContainer = parentFunctions.getScrollableContainer(elt);\n                        if (scrollableContainer) {\n                            if (scrollableContainer === document.body) {\n                                let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                                let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                                window.scrollTo(scrollX, scrollY);\n                            } else {\n                                let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                                let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                                scrollableContainer.scrollTop = scrollY;\n                                scrollableContainer.scrollLeft = scrollX;\n                            }\n                            centerScroll(scrollableContainer);\n                        } else {\n                            return false;\n                        }\n                    }\n                    centerScroll(lastSelected);\n\n                    let nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                    if (!!nextElement) {\n                        let newSelection = [];\n\n                        if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus') && config.multipleSelection) {\n                            newSelection = parentFunctions.getSelection();\n                            let index = newSelection.indexOf(nextElement);\n                            if (code == 37 || code == 39) {\n                                if (index === -1) {\n                                    newSelection.push(nextElement);\n                                } else {\n                                    newSelection.splice(newSelection.length - 1, 1);\n                                }\n                            } else {\n                                let newElements = [];\n                                let searchNextElement = lastSelected;\n                                while (searchNextElement && searchNextElement !== nextElement) {\n                                    searchNextElement = calculateNextElement(searchNextElement, (code == 38) ? 37 : 39, parentFunctions);\n                                    if (searchNextElement) {\n                                        newElements.push(searchNextElement);\n                                    }\n                                }\n                                if (index === -1) {\n                                    newSelection = newSelection.concat(newElements);\n                                } else {\n                                    newSelection.splice(index + 1);\n                                }\n\n                            }\n                            parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                        } else {\n                            newSelection = [nextElement];\n                            parentFunctions.updateSelection(newSelection);\n                        }\n\n                        centerScroll(nextElement);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n};\n\nlet calculateNextElement = (fromElement, code, parentFunctions) => {\n    let selectablesElements = parentFunctions.getSelectablesElements();\n    let indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return (selectablesElements[indexElt - 1]) ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return (selectablesElements[indexElt + 1]) ? selectablesElements[indexElt + 1] : null;\n    }\n\n    let interval = 10;\n    let rect = fromElement.getBoundingClientRect();\n    let posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    let posY = fromElement.offsetBodyTop() + ((code === 40) ? rect.height : 0);\n    let updateY = (code === 40) ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    let getNextElement = () => {\n        let target = document.elementFromPoint(posX, posY);\n        if(!target){\n            return null;\n        }\n        let selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    }\n    let nextElement = getNextElement();\n    return nextElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/arrows.js","export let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n\n        let selection = parentFunctions.getSelection();\n\n        if(e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/deleteShortcut.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n}\n\nexport let windowEvents = {\n    onkeydown: (e, parentFunctions) => {\n        if (e.ctrlKey || e.metaKey) {\n            let code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                let newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/selectAllShortcut.js"],"sourceRoot":""}