{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mka.min.js","webpack:///webpack/bootstrap 6fe0277bf1c1826174d4","webpack:///./src/js/main.js","webpack:///./src/js/dbClick.js","webpack:///./src/js/rightClick.js","webpack:///./src/js/DragAndDrop.js","webpack:///./src/js/select.js","webpack:///./src/js/copyPaste.js","webpack:///./src/js/count.js","webpack:///./src/js/arrows.js","webpack:///./src/js/deleteShortcut.js","webpack:///./src/js/selectAllShortcut.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","default","_dbClick","dbClick","_rightClick","rightClick","_DragAndDrop","dndHandler","_select","select","_copyPaste","copyPaste","_count","count","_arrows","arrows","_deleteShortcut","deleteShortcut","_selectAllShortcut","selectAllShortcut","defaultConfigs","eltsSelectable","eltSelectedClass","eltSelectingClass","onDragItemClass","dragNdrop","droppableElements","lasso","pasteFunction","items","console","log","longPressDelay","dbClickDelay","onSelectionUpdate","updateSelection","container","newSelection","actionId","configs","mkaParams","components","selectables","sameSelection","selection","length","forEach","elt","indexOf","classList","remove","add","params","parentFunctions","getPublicFunctions","component","getConfigs","clientConfigs","keys","pushComponents","push","isMobileDevice","customProperties","getContainer","setProperty","value","getProperty","elementIsSelected","contains","parentNode","getSelectableElement","getSelectablesElements","getLastSelectedInDom","last","offsetTop","offsetLeft","getSelection","copy","removeElements","elements","index","splice","removeChild","isMkaContainerFocused","target","initComponents","init","bindEvents","publicFunctions","bindComponentsEvents","eventName","saveIfAlreadyExists","event","stop","forceStop","mouseEventsList","mouseEventsTargets","window","document","body","keyEventsList","mouseEventTarget","mouseEventName","keyEventName","refreshComponents","refresh","updateSelectableElements","mkaSelectable","mkaRefresh","newSelectables","slice","querySelectorAll","listenContainerDOMChange","containsSelectableElement","node","selectablesNodes","item","MutationObserver","mutations","needToRefresh","mutation","addedNodes","removedNodes","observe","childList","subtree","addEventListener","setTimeout","check","a","test","substr","navigator","userAgent","vendor","opera","HTMLElement","mkaInit","style","userSelect","getOffsetBody","offsetType","offset","offsetParent","offsetBodyLeft","offsetBodyTop","offsetBodyRight","offsetBodyBottom","getScrollTotal","scrollType","scroll","undefined","scrollTopTotal","scrollLeftTotal","bindMobileDevice","conf","mkaEvents","ondblclick","e","launchDbClick","currentDate","Date","lastTouchDate","touches","preventDefault","element","customStyle","createElement","setAttribute","innerHTML","head","insertBefore","firstChild","menuIsOpen","bindContextMenu","windowEvents","onkeydown","code","which","onclick","removeMkaRcMenu","getElementById","display","menu","getMkaRcMenu","setMenuPosition","parentElement","left","pageX","scrollLeft","top","pageY","scrollTop","parentWidth","offsetWidth","parentHeight","offsetHeight","right","bottom","position","appendChild","selectableElement","htmlMenu","bindDragEvents","bindDropEvents","draggable","onmousedown","documentEvents","onmousemove","isDragging","onmouseup","innerCode","wrapper","wrapperSize","scrollWidth","id","width","setWrapperStyle","dataTransfer","setDragImage","setData","outerHTML","dropper","wrapperChildren","children","childDistance","opacity","child","color","backgroundColor","border","padding","textAlign","span","height","lineHeight","zIndex","borderRadius","squareId","Math","floor","random","square","downX","downY","upX","upY","squareElt","y1","x1","x2","y2","isVisble","isCrossingElt","elementIsCrossingZone","shiftKey","selectableElements","focusedElementIndex","elementIndex","firstIndex","min","lastIndex","max","ctrlKey","eltIndex","orderCoordinate","endLasso","isInLasso","refreshLasso","clearSelecting","selectableElt","lastSelection","selecting","pushSelectingElements","dateStart","eltSelectable","selectLassoItems","mkaElts","rect","getBoundingClientRect","zoneElt","onkeyup","calculateNextElement","lastSelected","centerScroll","scrollableContainer","currentElt","scrollHeight","scrollY","innerHeight","scrollX","innerWidth","scrollTo","nextElement","newElements","searchNextElement","concat","firstElement","fromElement","selectablesElements","indexElt","posX","posY","updateY","getNextElement","elementFromPoint"],"mappings":"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","file":"mka.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mka\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mka\"] = factory();\n\telse\n\t\troot[\"mka\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _dbClick = __webpack_require__(1);\n\nvar dbClick = _interopRequireWildcard(_dbClick);\n\nvar _rightClick = __webpack_require__(2);\n\nvar rightClick = _interopRequireWildcard(_rightClick);\n\nvar _DragAndDrop = __webpack_require__(3);\n\nvar dndHandler = _interopRequireWildcard(_DragAndDrop);\n\nvar _select = __webpack_require__(4);\n\nvar select = _interopRequireWildcard(_select);\n\nvar _copyPaste = __webpack_require__(5);\n\nvar copyPaste = _interopRequireWildcard(_copyPaste);\n\nvar _count = __webpack_require__(6);\n\nvar count = _interopRequireWildcard(_count);\n\nvar _arrows = __webpack_require__(7);\n\nvar arrows = _interopRequireWildcard(_arrows);\n\nvar _deleteShortcut = __webpack_require__(8);\n\nvar deleteShortcut = _interopRequireWildcard(_deleteShortcut);\n\nvar _selectAllShortcut = __webpack_require__(9);\n\nvar selectAllShortcut = _interopRequireWildcard(_selectAllShortcut);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"lasso\": true,\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": function pasteFunction(items) {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n};\n\nvar _updateSelection = function _updateSelection(container, newSelection, actionId) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n    var selectables = container.mkaParams.selectables;\n\n    var sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(function (elt) {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(function (elt) {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(function (elt) {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        var params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        };\n        components.forEach(function (component) {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n};\n\nvar getConfigs = function getConfigs(clientConfigs) {\n    var configs = {};\n    Object.keys(defaultConfigs).forEach(function (i) {\n        configs[i] = typeof clientConfigs[i] !== 'undefined' ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n};\n\nvar pushComponents = function pushComponents(container) {\n    var configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n};\n\nvar getPublicFunctions = function getPublicFunctions(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: function getContainer() {\n            return container;\n        },\n        setProperty: function setProperty(key, value) {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: function getProperty(key) {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: function elementIsSelected(elt) {\n            if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: function getSelectableElement(elt) {\n            var selectables = container.mkaParams.selectables;\n            if (elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: function getSelectablesElements() {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: function getLastSelectedInDom() {\n            var last = null;\n            container.mkaParams.selection.forEach(function (elt) {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: function getSelection() {\n            var copy = [];\n            container.mkaParams.selection.forEach(function (elt) {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: function updateSelection(newSelection, actionId) {\n            _updateSelection(container, newSelection, actionId);\n        },\n        removeElements: function removeElements(elements) {\n            elements.forEach(function (elt) {\n                var index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(function (component) {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: function isMkaContainerFocused(target) {\n            if (target === container) {\n                return true;\n            }\n\n            while (target.parentNode) {\n                target = target.parentNode;\n\n                if (target === container) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    };\n};\n\nvar initComponents = function initComponents(container) {\n    var configs = container.mkaParams.configs;\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n};\n\nvar bindEvents = function bindEvents(container) {\n    var publicFunctions = getPublicFunctions(container);\n    var components = container.mkaParams.components;\n\n    var bindComponentsEvents = function bindComponentsEvents(target, eventName) {\n        var saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = function (event) {\n            var stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(function (component) {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return { forceStop: stop };\n        };\n    };\n\n    var mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    var mouseEventsTargets = [{ name: \"windowEvents\", value: window }, { name: \"documentEvents\", value: document.body }, { name: \"mkaEvents\", value: container }];\n\n    var keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(function (mouseEventTarget) {\n        mouseEventsList.forEach(function (mouseEventName) {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(function (keyEventName) {\n        bindComponentsEvents({ name: \"windowEvents\", value: window }, keyEventName);\n    });\n};\n\nvar refreshComponents = function refreshComponents(container) {\n    var components = container.mkaParams.components;\n\n    components.forEach(function (component) {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs);\n    });\n};\n\nvar updateSelectableElements = function updateSelectableElements(container, elements) {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(function (elt) {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(function (elt) {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n};\n\nvar mkaRefresh = function mkaRefresh(container) {\n    var newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    var newSelection = [];\n    container.mkaParams.selection.forEach(function (elt) {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    _updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n};\n\nvar listenContainerDOMChange = function listenContainerDOMChange(container) {\n    var containsSelectableElement = function containsSelectableElement(node) {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        var parentNode = node.parentNode;\n        if (parentNode) {\n            var selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (var i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n    };\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            var needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (var i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (var _i = 0; _i < mutation.removedNodes.length; _i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(_i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, { childList: true, subtree: true });\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(function () {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n};\n\nvar isMobileDevice = function isMobileDevice() {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    var container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    var configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    var selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    var container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n};\n\nvar getOffsetBody = function getOffsetBody(elt, offsetType) {\n    var offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n};\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n};\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n};\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n};\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n};\n\nvar getScrollTotal = function getScrollTotal(elt, scrollType) {\n    var scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n};\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n};\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    ondblclick: function ondblclick(e, parentFunctions, conf) {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (e) {\n        var currentDate = new Date();\n        var lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && currentDate - lastTouchDate < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n};\n\nvar launchDbClick = function launchDbClick(e, parentFunctions, conf) {\n    var element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar mkarcmenuId = 'mkarcmenu';\nvar menuContainerClass = \"menu-container\";\n\nvar customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + menuContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nvar init = exports.init = function init(conf, parentFunctions) {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(event) {\n        var code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: function onclick(event) {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n};\n\nvar menuIsOpen = function menuIsOpen() {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n};\n\nvar removeMkaRcMenu = function removeMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n};\n\nvar getMkaRcMenu = function getMkaRcMenu() {\n    var menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n    }\n    return menu;\n};\n\nvar setMenuPosition = function setMenuPosition(menu, event, parentElement, parentFunctions) {\n\n    if (!parentElement) {\n        parentElement = parentFunctions.getContainer();\n    }\n\n    if (!parentElement.classList.contains(menuContainerClass)) {\n        parentElement.classList.add(menuContainerClass);\n    }\n\n    var left = event.pageX - (parentElement.offsetBodyLeft() - parentElement.scrollLeftTotal() + document.body.scrollLeft);\n    var top = event.pageY - (parentElement.offsetBodyTop() - parentElement.scrollTopTotal() + document.body.scrollTop);\n\n    var parentWidth = parentElement.offsetWidth;\n    var parentHeight = parentElement.offsetHeight;\n\n    if (left < 3 * parentWidth / 4) {\n        menu.style.left = left + 'px';\n        menu.style.right = \"auto\";\n    } else {\n        menu.style.right = parentWidth - left + 'px';\n        menu.style.left = \"auto\";\n    }\n\n    if (top < 3 * parentHeight / 4) {\n        menu.style.top = top + 'px';\n        menu.style.bottom = \"auto\";\n    } else {\n        menu.style.bottom = parentHeight - top + 'px';\n        menu.style.top = \"auto\";\n    }\n\n    menu.style.position = 'absolute';\n    menu.style.display = 'block';\n\n    parentElement.appendChild(menu);\n};\n\nvar bindContextMenu = function bindContextMenu(conf, parentFunctions) {\n\n    // On désactive le click droit sur l'élément principal\n    parentFunctions.getContainer().addEventListener('contextmenu', function (event) {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        var selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'élément n'est pas sélectionné, on restreint la sélection à ce seul élémentœ\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        var selection = parentFunctions.getSelection();\n\n        var menu = getMkaRcMenu();\n        var htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event, selectableElement, parentFunctions);\n    });\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', function () {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    var elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(function (elt) {\n        bindDragEvents(elt, parentFunctions, conf);\n    });\n\n    if (conf.droppableElements) {\n        var droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(function (elt) {\n            return bindDropEvents(elt, parentFunctions, conf);\n        });\n    }\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    params.selectables.forEach(function (elt) {\n        elt.draggable = false;\n    });\n    params.selection.forEach(function (elt) {\n        elt.draggable = true;\n    });\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions) {\n        var isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmouseup: function onmouseup(event, parentFunctions) {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nvar bindDragEvents = function bindDragEvents(element, parentFunctions, conf) {\n\n    element.addEventListener('dragstart', function (e) {\n        // On recupere les élts sélectionnés\n        var selection = parentFunctions.getSelection();\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach(function (elt) {\n            return elt.classList.add(\"on-drag\");\n        });\n\n        var innerCode = \"\";\n        var wrapper = document.createElement('div');\n        var wrapperSize = selection[0].scrollWidth;\n\n        //On rajoute le code html de chaque éléments dans une variable\n        //Chaque élément possède une div parente (Nécessaire lorsque le wrapper passe dans setWrapperStyle)\n        selection.forEach(function (elt) {\n            innerCode += '<div> ' + elt.innerHTML + ' </div>';\n        });\n\n        //On set le innerHTML avec tous les éléments récupérés précedemment\n        wrapper.innerHTML = innerCode;\n        wrapper.id = \"wrapper-drag\";\n        wrapper.style.width = wrapperSize + \"px\";\n\n        //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"-10000px\";\n\n        wrapper = setWrapperStyle(wrapper, conf);\n\n        document.body.appendChild(wrapper);\n\n        e.dataTransfer.setDragImage(wrapper, 0, 0);\n\n        e.dataTransfer.setData('text/plain', '');\n    });\n\n    element.addEventListener('dragend', function (e) {\n        var selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n\n        // on retire la class\n        selection.forEach(function (elt) {\n            return elt.classList.remove(\"on-drag\");\n        });\n    });\n};\n\nvar bindDropEvents = function bindDropEvents(dropper, parentFunctions, conf) {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la sélection sur la zone dropable\n        // on execute l'action défini par l'utilsateur\n        var selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n};\n\nvar setWrapperStyle = function setWrapperStyle(wrapper, conf) {\n    //On récupère les éléments enfants du wrapper qui servira pour le drag\n    var wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui séparera les éléments en fonction du nombre d'éléments dans la liste\n    var childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque élément du wrapper\n    for (var i = 0; i < wrapperChildren.length; i++) {\n        var child = wrapperChildren[i];\n\n        //Si l'utilisateur a configuré le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par défaut si l'utilisateur n'a pas configuré le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque élément a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le décalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = i * childDistance + \"px\";\n        child.style.left = i * childDistance + \"px\";\n\n        //Lorsqu'on parcourt le dernier élément et qu'il y a plus d'un élement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On crée une span qui contiendra le nombre d'élements selectionnés\n            var span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configuré le onDragItemClass alors on applique un style par défaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    var squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    var square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: function get() {\n            var squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.backgroundColor = \"rgba(255,0,0,0.5)\";\n                squareElt.style.border = \"1px solid rgba(255,0,0,0.8)\";\n                squareElt.style.display = \"none\";\n                parentFunctions.getContainer().appendChild(squareElt);\n            }\n            return squareElt;\n        },\n        refresh: function refresh() {\n            var squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = square.x2 - square.x1 + \"px\";\n            squareElt.style.height = square.y2 - square.y1 + \"px\";\n        },\n        remove: function remove() {\n            square.get().remove();\n        },\n        isVisble: function isVisble() {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: function isCrossingElt(elt) {\n            var container = parentFunctions.getContainer();\n            var scrollTop = container.scrollTopTotal() - document.body.scrollTop;\n            var scrollLeft = container.scrollLeftTotal() - document.body.scrollLeft;\n            return elementIsCrossingZone(elt, square.x1 + scrollLeft, square.y1 + scrollTop, square.x2 + scrollLeft, square.y2 + scrollTop);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n};\n\nvar mkaEvents = exports.mkaEvents = {\n    onmousedown: function onmousedown(event, parentFunctions) {\n        // On démarre la sélection si on utilise le bouton gauche de la souris\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                var square = parentFunctions.getProperty('square');\n                // zone du click\n                square.downX = event.pageX + 0;\n                square.downY = event.pageY + 0;\n                square.upX = event.pageX + 0;\n                square.upY = event.pageY + 0;\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                var selectableElements = parentFunctions.getSelectablesElements();\n                var selection = parentFunctions.getSelection();\n                var newSelection = [];\n\n                var element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    var focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        var elementIndex = selectableElements.indexOf(element);\n                        var firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        var lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey) {\n                            selection.forEach(function (elt) {\n                                var eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (var i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: function ondblclick(event, parentFunctions, conf) {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nvar documentEvents = exports.documentEvents = {\n    onmousemove: function onmousemove(event, parentFunctions, conf) {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            var isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(event, parentFunctions, conf) {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                var selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    var lastSelection = parentFunctions.getSelection();\n                    var index = lastSelection.indexOf(selectableElt);\n                    var newSelection = [selectableElt];\n\n                    if (event.ctrlKey || conf.isMobileDevice && index !== -1) {\n                        newSelection = lastSelection;\n                        if (index !== -1) {\n                            newSelection.splice(index, 1);\n                        } else {\n                            newSelection.push(selectableElt);\n                        }\n                    }\n\n                    var selecting = [];\n                    newSelection.forEach(function (elt) {\n                        selecting.push(elt);\n                        elt.classList.add(conf.eltSelectingClass);\n                    });\n                    parentFunctions.setProperty('selecting', selecting);\n                } else if (!event.ctrlKey) {\n                    parentFunctions.updateSelection([]);\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: function onmouseup(event, parentFunctions, conf) {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nvar bindMobileDevice = function bindMobileDevice(conf, parentFunctions) {\n    parentFunctions.getContainer().addEventListener('touchstart', function (event) {\n        var dateStart = new Date();\n        parentFunctions.setProperty('select.startLongPress', dateStart);\n        setTimeout(function () {\n            if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                var selection = parentFunctions.getSelection();\n                var eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                if (eltSelectable) {\n                    var indexElt = selection.indexOf(eltSelectable);\n                    if (indexElt === -1) {\n                        selection.push(eltSelectable);\n                    }\n                    parentFunctions.updateSelection(selection);\n                }\n            }\n        }, conf.longPressDelay);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', function () {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchmove', function () {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n};\n\nvar refreshLasso = function refreshLasso(event, parentFunctions, conf) {\n    var square = parentFunctions.getProperty('square');\n    square.upX = event.pageX + 0;\n    square.upY = event.pageY + 0;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey, square, parentFunctions, conf);\n    square.refresh();\n};\n\nvar endLasso = function endLasso(parentFunctions, conf) {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n};\n\nvar pushSelectingElements = function pushSelectingElements(parentFunctions, conf) {\n    if (parentFunctions.getProperty('selecting').length) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n};\n\nvar clearSelecting = function clearSelecting(parentFunctions, conf) {\n    parentFunctions.getProperty('selecting').forEach(function (elt) {\n        elt.classList.remove(conf.eltSelectingClass);\n    });\n    parentFunctions.setProperty('selecting', []);\n};\n\nvar orderCoordinate = function orderCoordinate(square) {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n};\n\nvar selectLassoItems = function selectLassoItems(ctrlKey, square, parentFunctions, conf) {\n    var mkaElts = parentFunctions.getSelectablesElements();\n\n    var selecting = ctrlKey ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionné\n    mkaElts.forEach(function (elt) {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n};\n\nvar elementIsCrossingZone = function elementIsCrossingZone(elt, x1, y1, x2, y2) {\n    var rect = elt.getBoundingClientRect();\n    var zoneElt = {\n        x1: elt.offsetBodyLeft(),\n        x2: elt.offsetBodyLeft() + rect.width,\n        y1: elt.offsetBodyTop(),\n        y2: elt.offsetBodyTop() + rect.height\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('copyElts', []);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n        if (e.which == '67' && e.ctrlKey) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    // si l'élément HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n};\n\nvar onSelectionUpdate = exports.onSelectionUpdate = function onSelectionUpdate(params) {\n    var selection = params.selection;\n    var parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n};\n\nvar windowEvents = exports.windowEvents = {\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('arrows.isContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    },\n    onkeydown: function onkeydown(event, parentFunctions) {\n        var code = event.which;\n        //37=left , 38=top , 39=right , 40=bottom\n        if (code == 37 || code == 38 || code == 39 || code == 40) {\n            var lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n            if (!lastSelected) {\n                if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n                    var firstElement = parentFunctions.getSelectablesElements()[0];\n                    if (firstElement) {\n                        parentFunctions.updateSelection([firstElement]);\n                    }\n                }\n            } else {\n                event.preventDefault();\n                var centerScroll = function centerScroll(elt) {\n                    var scrollableContainer = null;\n                    var currentElt = elt;\n                    while (!!currentElt.parentNode && !scrollableContainer) {\n                        currentElt = currentElt.parentNode;\n                        if (currentElt.scrollHeight > currentElt.offsetHeight || currentElt.scrollWidth > currentElt.offsetWidth || currentElt === document.body) {\n                            scrollableContainer = currentElt;\n                        }\n                    }\n                    if (scrollableContainer) {\n                        if (scrollableContainer === document.body) {\n                            var scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                            var scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                            window.scrollTo(scrollX, scrollY);\n                        } else {\n                            var _scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                            var _scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                            scrollableContainer.scrollTop = _scrollY;\n                            scrollableContainer.scrollLeft = _scrollX;\n                        }\n                        centerScroll(scrollableContainer);\n                    } else {\n                        return false;\n                    }\n                };\n                centerScroll(lastSelected);\n\n                var nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                if (!!nextElement) {\n                    var newSelection = [];\n\n                    if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus')) {\n                        newSelection = parentFunctions.getSelection();\n                        var index = newSelection.indexOf(nextElement);\n                        if (code == 37 || code == 39) {\n                            if (index === -1) {\n                                newSelection.push(nextElement);\n                            } else {\n                                newSelection.splice(newSelection.length - 1, 1);\n                            }\n                        } else {\n                            var newElements = [];\n                            var searchNextElement = lastSelected;\n                            while (searchNextElement && searchNextElement !== nextElement) {\n                                searchNextElement = calculateNextElement(searchNextElement, code == 38 ? 37 : 39, parentFunctions);\n                                if (searchNextElement) {\n                                    newElements.push(searchNextElement);\n                                }\n                            }\n                            if (index === -1) {\n                                newSelection = newSelection.concat(newElements);\n                            } else {\n                                newSelection.splice(index + 1);\n                            }\n                        }\n                        parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                    } else {\n                        newSelection = [nextElement];\n                        parentFunctions.updateSelection(newSelection);\n                    }\n\n                    centerScroll(nextElement);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\nvar calculateNextElement = function calculateNextElement(fromElement, code, parentFunctions) {\n    var selectablesElements = parentFunctions.getSelectablesElements();\n    var indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return selectablesElements[indexElt - 1] ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return selectablesElements[indexElt + 1] ? selectablesElements[indexElt + 1] : null;\n    }\n\n    var interval = 10;\n    var rect = fromElement.getBoundingClientRect();\n    var posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    var posY = fromElement.offsetBodyTop() + (code === 40 ? rect.height : 0);\n    var updateY = code === 40 ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    var getNextElement = function getNextElement() {\n        var target = document.elementFromPoint(posX, posY);\n        var selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    };\n    var nextElement = getNextElement();\n    return nextElement;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar windowEvents = exports.windowEvents = {\n    onkeyup: function onkeyup(e, parentFunctions, conf) {\n\n        var selection = parentFunctions.getSelection();\n\n        if (e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar init = exports.init = function init(conf, parentFunctions) {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n};\n\nvar windowEvents = exports.windowEvents = {\n    onkeydown: function onkeydown(e, parentFunctions) {\n        if (e.ctrlKey) {\n            var code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                var newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: function onmousedown(e, parentFunctions) {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mka.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6fe0277bf1c1826174d4","import * as dbClick from './dbClick';\nimport * as rightClick from './rightClick';\nimport * as dndHandler from './DragAndDrop';\nimport * as select from './select';\nimport * as copyPaste from './copyPaste';\nimport * as count from './count';\nimport * as arrows from './arrows';\nimport * as deleteShortcut from './deleteShortcut';\nimport * as selectAllShortcut from './selectAllShortcut';\n\nlet defaultConfigs = {\n    \"eltsSelectable\": '',\n    \"eltSelectedClass\": \"mka-elt-selected\",\n    \"eltSelectingClass\": \"mka-elt-selecting\",\n    \"onDragItemClass\": null,\n    \"dragNdrop\": false,\n    \"droppableElements\": '',\n    \"rightClick\": false,\n    \"dbClick\": false,\n    \"lasso\": true,\n    \"selectAllShortcut\": true,\n    \"copyPaste\": true,\n    \"arrows\": true,\n    \"deleteShortcut\": false,\n    \"count\": \"\",\n    \"pasteFunction\": (items) => {\n        console.log(items);\n        console.log(\"Default past function, think to implement this function\");\n    },\n    \"longPressDelay\": 500,\n    \"dbClickDelay\": 350,\n    \"onSelectionUpdate\": false\n}\n\nlet updateSelection = (container, newSelection, actionId) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n    let selectables = container.mkaParams.selectables;\n\n    let sameSelection = false;\n    if (container.mkaParams.selection.length === newSelection.length) {\n        sameSelection = true;\n        container.mkaParams.selection.forEach(elt => {\n            if (newSelection.indexOf(elt) === -1) {\n                sameSelection = false;\n            }\n        });\n    }\n    if (!sameSelection) {\n        container.mkaParams.selection = newSelection;\n        selectables.forEach(elt => {\n            elt.classList.remove(configs.eltSelectedClass);\n        });\n        container.mkaParams.selection.forEach(elt => {\n            elt.classList.add(configs.eltSelectedClass);\n        });\n        let params = {\n            selection: container.mkaParams.selection,\n            selectables: container.mkaParams.selectables,\n            configs: container.mkaParams.configs,\n            parentFunctions: getPublicFunctions(container),\n            actionId: actionId\n        }\n        components.forEach(component => {\n            component.onSelectionUpdate && component.onSelectionUpdate(params);\n        });\n\n        container.mkaParams.configs.onSelectionUpdate && container.mkaParams.configs.onSelectionUpdate(container.mkaParams.selection);\n    }\n}\n\nlet getConfigs = (clientConfigs) => {\n    let configs = {};\n    Object.keys(defaultConfigs).forEach((i) => {\n        configs[i] = (typeof clientConfigs[i] !== 'undefined') ? clientConfigs[i] : defaultConfigs[i];\n    });\n    return configs;\n}\n\nlet pushComponents = (container) => {\n    let configs = container.mkaParams.configs;\n\n    container.mkaParams.components = [];\n\n    if (!!configs.dbClick) {\n        container.mkaParams.components.push(dbClick);\n    }\n\n    if (!!configs.rightClick) {\n        container.mkaParams.components.push(rightClick);\n    }\n\n    if (configs.dragNdrop && !configs.isMobileDevice) {\n        container.mkaParams.components.push(dndHandler);\n    }\n\n    if (configs.selectAllShortcut) {\n        container.mkaParams.components.push(selectAllShortcut);\n    }\n\n    if (configs.copyPaste) {\n        container.mkaParams.components.push(copyPaste);\n    }\n\n    if (!!configs.deleteShortcut) {\n        container.mkaParams.components.push(deleteShortcut);\n    }\n\n    if (!!configs.arrows) {\n        container.mkaParams.components.push(arrows);\n    }\n    if (!!configs.count) {\n        container.mkaParams.components.push(count);\n    }\n\n    container.mkaParams.components.push(select);\n}\n\nlet getPublicFunctions = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    container.mkaParams.customProperties = container.mkaParams.customProperties || {};\n\n    return {\n        getContainer: () => {\n            return container;\n        },\n        setProperty: (key, value) => {\n            container.mkaParams.customProperties[key] = value;\n        },\n        getProperty: (key) => {\n            return container.mkaParams.customProperties[key];\n        },\n        elementIsSelected: (elt) => {\n            if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                return true;\n            }\n            while (elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && elt.classList.contains(configs.eltSelectedClass)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getSelectableElement: (elt) => {\n            let selectables = container.mkaParams.selectables;\n            if (elt.classList && selectables.indexOf(elt) !== -1) {\n                return elt;\n            }\n            while (elt.parentNode) {\n                elt = elt.parentNode;\n                if (elt.classList && selectables.indexOf(elt) !== -1) {\n                    return elt;\n                }\n            }\n            return null;\n        },\n        getSelectablesElements: () => {\n            return container.mkaParams.selectables;\n            ;\n        },\n        getLastSelectedInDom: () => {\n            let last = null;\n            container.mkaParams.selection.forEach(elt => {\n                if (!last || elt.offsetTop > last.offsetTop || elt.offsetTop === last.offsetTop && elt.offsetLeft > last.offsetLeft) {\n                    last = elt;\n                }\n            });\n            return last;\n        },\n        getSelection: () => {\n            let copy = [];\n            container.mkaParams.selection.forEach(elt => {\n                copy.push(elt);\n            });\n            return copy;\n        },\n        updateSelection: (newSelection, actionId) => {\n            updateSelection(container, newSelection, actionId);\n        },\n        removeElements: (elements) => {\n            elements.forEach(elt => {\n                let index = container.mkaParams.selectables.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selectables.splice(index, 1);\n                }\n                index = container.mkaParams.selection.indexOf(elt);\n                if (index !== -1) {\n                    container.mkaParams.selection.splice(index, 1);\n                }\n                elt.parentNode.removeChild(elt);\n            });\n            components.forEach(component => {\n                component.onSelectionUpdate && component.onSelectionUpdate(container.mkaParams.selection, container.mkaParams.selectables);\n            });\n        },\n        isMkaContainerFocused: (target) => {\n            if (target === container) {\n                return true;\n            }\n\n            while (target.parentNode) {\n                target = target.parentNode;\n\n                if (target === container) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n}\n\nlet initComponents = (container) => {\n    let configs = container.mkaParams.configs;\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.init && component.init(configs, getPublicFunctions(container));\n    });\n}\n\nlet bindEvents = (container) => {\n    let publicFunctions = getPublicFunctions(container);\n    let components = container.mkaParams.components;\n\n    let bindComponentsEvents = (target, eventName) => {\n        let saveIfAlreadyExists = target.value[eventName];\n        target.value[eventName] = (event) => {\n            let stop = false;\n            if (saveIfAlreadyExists && typeof saveIfAlreadyExists === 'function') {\n                stop = saveIfAlreadyExists(event).forceStop;\n            }\n            components.forEach(component => {\n                if (!stop) {\n                    stop = component[target.name] && component[target.name][eventName] && component[target.name][eventName](event, publicFunctions, container.mkaParams.configs) || false;\n                }\n            });\n            return {forceStop: stop};\n        }\n    }\n\n    let mouseEventsList = [\"onmousedown\", \"onmousemove\", \"onmouseup\", \"onclick\", \"ondblclick\"];\n    let mouseEventsTargets = [\n        {name: \"windowEvents\", value: window},\n        {name: \"documentEvents\", value: document.body},\n        {name: \"mkaEvents\", value: container}\n    ];\n\n    let keyEventsList = [\"onkeydown\", \"onkeypress\", \"onkeyup\"];\n\n    mouseEventsTargets.forEach(mouseEventTarget => {\n        mouseEventsList.forEach(mouseEventName => {\n            bindComponentsEvents(mouseEventTarget, mouseEventName);\n        });\n    });\n\n    keyEventsList.forEach(keyEventName => {\n        bindComponentsEvents({name: \"windowEvents\", value: window}, keyEventName);\n    });\n}\n\nlet refreshComponents = (container) => {\n    let components = container.mkaParams.components;\n\n    components.forEach(component => {\n        component.refresh && component.refresh(container.mkaParams.selectables, container.mkaParams.configs);\n    });\n}\n\nlet updateSelectableElements = (container, elements) => {\n    if (container.mkaParams.selectables) {\n        container.mkaParams.selectables.forEach(elt => {\n            elt.mkaSelectable = false;\n        });\n    }\n    elements.forEach(elt => {\n        elt.mkaSelectable = true;\n    });\n    container.mkaParams.selectables = elements;\n}\n\nlet mkaRefresh = (container) => {\n    let newSelectables = [].slice.call(container.querySelectorAll(container.mkaParams.configs.eltsSelectable));\n    let newSelection = [];\n    container.mkaParams.selection.forEach(elt => {\n        if (newSelectables.indexOf(elt) !== -1) {\n            newSelection.push(elt);\n        }\n    });\n    updateSelection(container, newSelection);\n\n    updateSelectableElements(container, newSelectables);\n\n    refreshComponents(container);\n}\n\nlet listenContainerDOMChange = (container) => {\n    let containsSelectableElement = (node) => {\n        //Check if removed node is selectable\n        if (!!node.mkaSelectable) {\n            return true;\n        }\n\n        //Check if added node is selectable\n        let parentNode = node.parentNode;\n        if (parentNode) {\n            let selectablesNodes = parentNode.querySelectorAll(container.mkaParams.configs.eltsSelectable);\n            for (let i = 0; i < selectablesNodes.length; i++) {\n                if (selectablesNodes.item(i) === node) {\n                    return true;\n                }\n            }\n        }\n\n        //Check if current node contains selectables elements\n        if (node.querySelectorAll && node.querySelectorAll(container.mkaParams.configs.eltsSelectable).length > 0) {\n            return true;\n        }\n\n        return false;\n\n    }\n\n    // Function to detect when dom change for refresh selectable elements\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            let needToRefresh = false;\n            mutations.forEach(function (mutation) {\n                if (!needToRefresh) {\n                    // If new element are added\n                    if (mutation.addedNodes) {\n                        for (let i = 0; i < mutation.addedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.addedNodes.item(i));\n                        }\n                    }\n                    // If element are removed\n                    if (mutation.removedNodes) {\n                        for (let i = 0; i < mutation.removedNodes.length; i++) {\n                            needToRefresh = containsSelectableElement(mutation.removedNodes.item(i));\n                        }\n                    }\n                }\n            });\n            if (needToRefresh) {\n                mkaRefresh(container);\n            }\n        });\n\n        observer.observe(container, {childList: true, subtree: true});\n    } else {\n        //IE < 11\n        container.addEventListener('DOMNodeRemoved', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n        container.addEventListener('DOMNodeInserted', function (event) {\n            if (containsSelectableElement(event.target)) {\n                setTimeout(() => {\n                    mkaRefresh(container);\n                }, 0);\n            }\n        });\n    }\n}\n\nlet isMobileDevice = () => {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n\nHTMLElement.prototype.mkaInit = function (clientConfigs) {\n    let container = this;\n    container.style.userSelect = \"none\";\n    container.style['-moz-user-select'] = 'none';\n    container.style['-webkit-user-select'] = 'none';\n    container.style['-ms-user-select'] = 'none';\n\n    let configs = getConfigs(clientConfigs);\n    configs.isMobileDevice = isMobileDevice();\n\n    let selectables = [].slice.call(container.querySelectorAll(configs.eltsSelectable));\n\n    container.mkaParams = {\n        configs: configs,\n        selection: []\n    };\n    updateSelectableElements(container, selectables);\n\n    pushComponents(container);\n\n    initComponents(container);\n\n    bindEvents(container);\n\n    listenContainerDOMChange(container);\n\n};\n\nHTMLElement.prototype.mkaRefresh = function () {\n    let container = this;\n\n    if (!container.mkaParams || !container.mkaParams.configs) {\n        console.log(\"No MKA found on this element, call mkaInit first\");\n        return false;\n    }\n\n    mkaRefresh(container);\n\n}\n\nlet getOffsetBody = (elt, offsetType) => {\n    let offset = elt[offsetType];\n    while (!!elt.offsetParent && elt.offsetParent !== document.body) {\n        elt = elt.offsetParent;\n        offset = offset + elt[offsetType];\n    }\n    return offset;\n}\n\nHTMLElement.prototype.offsetBodyLeft = function () {\n    return getOffsetBody(this, \"offsetLeft\");\n}\n\nHTMLElement.prototype.offsetBodyTop = function () {\n    return getOffsetBody(this, \"offsetTop\");\n}\n\nHTMLElement.prototype.offsetBodyRight = function () {\n    return getOffsetBody(this, \"offsetRight\");\n}\n\nHTMLElement.prototype.offsetBodyBottom = function () {\n    return getOffsetBody(this, \"offsetBottom\");\n}\n\nlet getScrollTotal = (elt, scrollType) => {\n    let scroll = 0;\n    while (elt[scrollType] !== undefined) {\n        scroll = scroll + elt[scrollType];\n        elt = elt.parentNode;\n    }\n    return scroll;\n}\n\nHTMLElement.prototype.scrollTopTotal = function () {\n    return getScrollTotal(this, \"scrollTop\");\n}\n\nHTMLElement.prototype.scrollLeftTotal = function () {\n    return getScrollTotal(this, \"scrollLeft\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('dbClick.lastTouchDate', null);\n\n    if (conf.isMobileDevice) {\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let mkaEvents = {\n    ondblclick: (e, parentFunctions, conf) => {\n        return launchDbClick(e, parentFunctions, conf);\n    }\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (e) => {\n        let currentDate = new Date();\n        let lastTouchDate = parentFunctions.getProperty('dbClick.lastTouchDate');\n        if (lastTouchDate && (currentDate - lastTouchDate) < conf.dbClickDelay && e.touches.length === 1) {\n            e.preventDefault();\n            launchDbClick(e, parentFunctions, conf);\n            parentFunctions.setProperty('dbClick.lastTouchDate', null);\n        } else {\n            parentFunctions.setProperty('dbClick.lastTouchDate', currentDate);\n        }\n    });\n}\n\nlet launchDbClick = (e, parentFunctions, conf) => {\n    let element = parentFunctions.getSelectableElement(e.target);\n    if (!!element && typeof conf.dbClick === 'function') {\n        parentFunctions.updateSelection([element]);\n        conf.dbClick(element);\n        return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dbClick.js","const mkarcmenuId = 'mkarcmenu';\nconst menuContainerClass = \"menu-container\";\n\nlet customStyle = document.createElement(\"style\");\ncustomStyle.setAttribute('type', \"text/css\");\ncustomStyle.innerHTML = \".\" + menuContainerClass + \"{position:relative;}\";\ndocument.head.insertBefore(customStyle, document.head.firstChild);\n\nexport let init = (conf, parentFunctions) => {\n    bindContextMenu(conf, parentFunctions);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('rightClick.startContextMenu', false);\n        bindMobileDevice(conf, parentFunctions);\n    }\n}\n\nexport let windowEvents = {\n    onkeydown: (event) => {\n        let code = event.which;\n        if ((code == 37 || code == 38 || code == 39 || code == 40) && menuIsOpen()) {\n            event.preventDefault();\n            return true;\n        }\n        return false;\n    },\n    onclick: (event) => {\n        if (event.which === 1) {\n            return removeMkaRcMenu();\n        }\n        return false;\n    }\n}\n\nlet menuIsOpen = () => {\n    return !!document.getElementById(mkarcmenuId) && document.getElementById(mkarcmenuId).style.display !== 'none';\n}\n\nlet removeMkaRcMenu = () => {\n    const menu = document.getElementById(mkarcmenuId);\n    if (menu && menu.style.display !== 'none') {\n        menu.style.display = 'none';\n        return true;\n    }\n    return false;\n}\n\nlet getMkaRcMenu = () => {\n    let menu = document.getElementById(mkarcmenuId);\n    if (!menu) {\n        menu = document.createElement('div');\n        menu.setAttribute('id', mkarcmenuId);\n    }\n    return menu;\n}\n\nlet setMenuPosition = (menu, event, parentElement, parentFunctions) => {\n\n    if (!parentElement) {\n        parentElement = parentFunctions.getContainer();\n    }\n\n    if (!parentElement.classList.contains(menuContainerClass)) {\n        parentElement.classList.add(menuContainerClass);\n    }\n\n    let left = event.pageX - (parentElement.offsetBodyLeft() - parentElement.scrollLeftTotal() + document.body.scrollLeft);\n    let top = event.pageY - (parentElement.offsetBodyTop() - parentElement.scrollTopTotal() + document.body.scrollTop);\n\n    let parentWidth = parentElement.offsetWidth;\n    let parentHeight = parentElement.offsetHeight;\n\n    if (left < 3 * parentWidth / 4) {\n        menu.style.left = left + 'px';\n        menu.style.right = \"auto\";\n    } else {\n        menu.style.right = (parentWidth - left) + 'px';\n        menu.style.left = \"auto\";\n    }\n\n    if (top < 3 * parentHeight / 4) {\n        menu.style.top = top + 'px';\n        menu.style.bottom = \"auto\";\n    } else {\n        menu.style.bottom = (parentHeight - top) + 'px';\n        menu.style.top = \"auto\";\n    }\n\n    menu.style.position = 'absolute';\n    menu.style.display = 'block';\n\n    parentElement.appendChild(menu);\n}\n\nlet bindContextMenu = (conf, parentFunctions) => {\n\n    // On désactive le click droit sur l'élément principal\n    parentFunctions.getContainer().addEventListener('contextmenu', (event) => {\n        event.preventDefault();\n        if (!parentFunctions.getProperty('rightClick.startContextMenu') && conf.isMobileDevice) {\n            return false;\n        }\n\n        removeMkaRcMenu();\n        const selectableElement = parentFunctions.getSelectableElement(event.target);\n\n        if (selectableElement !== null) {\n            if (!parentFunctions.elementIsSelected(selectableElement)) {\n                if (conf.isMobileDevice) {\n                    return false;\n                } else {\n                    // Si l'élément n'est pas sélectionné, on restreint la sélection à ce seul élémentœ\n                    parentFunctions.updateSelection([selectableElement]);\n                }\n            }\n        } else {\n            parentFunctions.updateSelection([]);\n        }\n\n        let selection = parentFunctions.getSelection();\n\n        let menu = getMkaRcMenu();\n        let htmlMenu = conf.rightClick(selection);\n\n        if (htmlMenu instanceof HTMLElement) {\n            menu.innerHTML = '';\n            menu.appendChild(htmlMenu);\n        } else {\n            menu.innerHTML = htmlMenu;\n        }\n\n        setMenuPosition(menu, event, selectableElement, parentFunctions);\n    });\n\n}\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n        parentFunctions.setProperty('rightClick.startContextMenu', parentFunctions.elementIsSelected(event.target));\n\n        if (!parentFunctions.elementIsSelected(event.target)) {\n            removeMkaRcMenu();\n        }\n\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', () => {\n        parentFunctions.setProperty('rightClick.startContextMenu', true);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/rightClick.js","export let init = (conf, parentFunctions) => {\n    // config = conf;\n    parentFunctions.setProperty('isDragging', false);\n    parentFunctions.setProperty('draggableTarget', false);\n\n    let elements = parentFunctions.getSelectablesElements();\n\n    //Application du drag event pour chaque element ayant la classe mka-elt\n    elements.forEach(elt => {\n        bindDragEvents(elt, parentFunctions, conf);\n    });\n\n    if (conf.droppableElements) {\n        let droppers = [].slice.call(document.querySelectorAll(conf.droppableElements));\n        //Application du drop event pour chaque element ayant la classe mka-dropzone\n        droppers.forEach(elt => bindDropEvents(elt, parentFunctions, conf));\n    }\n}\n\nexport let onSelectionUpdate = (params) => {\n    params.selectables.forEach(elt => {\n        elt.draggable = false;\n    });\n    params.selection.forEach(elt => {\n        elt.draggable = true;\n    });\n};\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions) => {\n        parentFunctions.setProperty('draggableTarget', event.target && parentFunctions.elementIsSelected(event.target));\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions) => {\n        let isDragging = parentFunctions.getProperty('draggableTarget');\n        parentFunctions.setProperty('isDragging', isDragging);\n        return isDragging;\n    }\n};\n\nexport let windowEvents = {\n    onmouseup: (event, parentFunctions) => {\n        parentFunctions.setProperty('isDragging', false);\n        parentFunctions.setProperty('draggableTarget', false);\n        return false;\n    }\n};\n\nlet bindDragEvents = (element, parentFunctions, conf) => {\n\n    element.addEventListener('dragstart', function (e) {\n        // On recupere les élts sélectionnés\n        let selection = parentFunctions.getSelection();\n\n        // on ajoute une class pour modifier le style de la selection\n        selection.forEach((elt) => elt.classList.add(\"on-drag\"));\n\n        let innerCode = \"\";\n        let wrapper = document.createElement('div');\n        const wrapperSize = selection[0].scrollWidth;\n\n        //On rajoute le code html de chaque éléments dans une variable\n        //Chaque élément possède une div parente (Nécessaire lorsque le wrapper passe dans setWrapperStyle)\n        selection.forEach((elt) => {\n            innerCode += `<div> ${elt.innerHTML} </div>`;\n        });\n\n        //On set le innerHTML avec tous les éléments récupérés précedemment\n        wrapper.innerHTML = innerCode;\n        wrapper.id = \"wrapper-drag\";\n        wrapper.style.width = wrapperSize + \"px\";\n\n        //On set la position sur absolute et on sort le wrapper de la page sinon ce dernier s'affiche lors du drag\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"-10000px\";\n\n        wrapper = setWrapperStyle(wrapper, conf);\n\n        document.body.appendChild(wrapper);\n\n        e.dataTransfer.setDragImage(wrapper, 0, 0);\n\n        e.dataTransfer.setData('text/plain', '');\n\n    });\n\n    element.addEventListener('dragend', function (e) {\n        let selection = parentFunctions.getSelection();\n        // On supprime la div avec l'id wrapper-drag\n        document.getElementById(\"wrapper-drag\").outerHTML = \"\";\n\n        // on retire la class\n        selection.forEach((elt) => elt.classList.remove(\"on-drag\"));\n    });\n}\n\nlet bindDropEvents = (dropper, parentFunctions, conf) => {\n\n    dropper.addEventListener('dragover', function (e) {\n        //Ajout de la classe pour le hover de la dropzone\n        // Cela permet de voir les zone qui peut recevoir la selection\n        this.classList.add('zone-hover');\n\n        // Il faut absolument laisser le preventDefault pour que le drop sur la zone s'execute\n        e.preventDefault();\n    });\n\n    dropper.addEventListener('dragleave', function () {\n        // On retire la class\n        this.classList.remove('zone-hover');\n    });\n\n    dropper.addEventListener('drop', function (e) {\n        // Lorsque l'utilisateur relache la sélection sur la zone dropable\n        // on execute l'action défini par l'utilsateur\n        let selection = parentFunctions.getSelection();\n        if (typeof conf.dragNdrop === 'function') {\n            conf.dragNdrop(selection, dropper);\n        }\n    });\n}\n\n\nlet setWrapperStyle = (wrapper, conf) => {\n    //On récupère les éléments enfants du wrapper qui servira pour le drag\n    let wrapperChildren = wrapper.children;\n    //On choisit le nombre de pixels qui séparera les éléments en fonction du nombre d'éléments dans la liste\n    let childDistance = wrapperChildren.length > 15 ? 1 : 2;\n\n    wrapper.style.opacity = \"1\";\n\n    // Pour chaque élément du wrapper\n    for (let i = 0; i < wrapperChildren.length; i++) {\n        let child = wrapperChildren[i];\n\n        //Si l'utilisateur a configuré le onDragItemsClass, on applique la classe en question\n        if (conf.onDragItemClass) {\n            child.classList.add(conf.onDragItemClass);\n        } else {\n            //Sinon on force un style par défaut si l'utilisateur n'a pas configuré le onDragItemsClass\n            child.style.color = \"black\";\n            child.style.backgroundColor = \"white\";\n            child.style.border = \"1px solid grey\";\n            child.style.padding = \"5px\";\n            child.style.textAlign = \"center\";\n            child.style.width = \"100%\";\n            // console.log(\"You can use your own class\");\n        }\n\n        // Chaque élément a une position abolute\n        // On multiplie i par un nombre de pixels pour indiquer le décalage et avoir un effet d'empilement\n        child.style.position = \"absolute\";\n        child.style.top = (i * childDistance) + \"px\";\n        child.style.left = (i * childDistance) + \"px\";\n\n        //Lorsqu'on parcourt le dernier élément et qu'il y a plus d'un élement\n        if (i === wrapperChildren.length - 1 && wrapperChildren.length > 1) {\n            //On crée une span qui contiendra le nombre d'élements selectionnés\n            let span = document.createElement(\"span\");\n            span.innerHTML = wrapperChildren.length;\n            span.style.height = \"25px\";\n            span.style.width = \"25px\";\n            span.style.lineHeight = \"25px\";\n            span.style.position = \"absolute\";\n            span.style.right = \"-10px\";\n            span.style.top = \"-5px\";\n            span.style.zIndex = \"25\";\n            span.style.borderRadius = \"15px\";\n            span.style.textAlign = \"center\";\n\n            //Si on n'a pas configuré le onDragItemClass alors on applique un style par défaut\n            if (!conf.onDragItemClass) {\n                span.style.backgroundColor = \"red\";\n                span.style.color = \"white\";\n            }\n            child.appendChild(span);\n        }\n    }\n\n    return wrapper;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/DragAndDrop.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('focusedElementIndex', null);\n    parentFunctions.setProperty('selecting', []);\n\n    if (conf.isMobileDevice) {\n        parentFunctions.setProperty('select.startLongPress', null);\n        bindMobileDevice(conf, parentFunctions);\n    }\n\n    let squareId = \"selection-square-\" + Math.floor(Math.random() * 100000);\n\n    let square = {\n        downX: null,\n        downY: null,\n        upX: null,\n        upY: null,\n        get: () => {\n            let squareElt = document.getElementById(squareId);\n            if (!squareElt) {\n                squareElt = document.createElement(\"div\");\n                squareElt.id = squareId;\n                squareElt.style.position = \"absolute\";\n                squareElt.style.backgroundColor = \"rgba(255,0,0,0.5)\";\n                squareElt.style.border = \"1px solid rgba(255,0,0,0.8)\";\n                squareElt.style.display = \"none\";\n                parentFunctions.getContainer().appendChild(squareElt);\n            }\n            return squareElt;\n        },\n        refresh: () => {\n            let squareElt = square.get();\n            squareElt.style.display = \"block\";\n            squareElt.style.top = square.y1 + \"px\";\n            squareElt.style.left = square.x1 + \"px\";\n\n            squareElt.style.width = (square.x2 - square.x1) + \"px\";\n            squareElt.style.height = (square.y2 - square.y1) + \"px\";\n        },\n        remove: () => {\n            square.get().remove();\n        },\n        isVisble: () => {\n            return square.get().style.display === \"block\";\n        },\n        isCrossingElt: (elt) => {\n            let container = parentFunctions.getContainer();\n            let scrollTop = container.scrollTopTotal() - document.body.scrollTop;\n            let scrollLeft = container.scrollLeftTotal() - document.body.scrollLeft;\n            return elementIsCrossingZone(elt, square.x1 + scrollLeft, square.y1 + scrollTop, square.x2 + scrollLeft, square.y2 + scrollTop);\n        }\n    };\n    parentFunctions.setProperty('square', square);\n}\n\nexport let mkaEvents = {\n    onmousedown: (event, parentFunctions) => {\n        // On démarre la sélection si on utilise le bouton gauche de la souris\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                parentFunctions.setProperty('focusedElementIndex', null);\n\n                let square = parentFunctions.getProperty('square');\n                // zone du click\n                square.downX = event.pageX + 0;\n                square.downY = event.pageY + 0;\n                square.upX = event.pageX + 0;\n                square.upY = event.pageY + 0;\n                parentFunctions.setProperty('square', square);\n\n                parentFunctions.setProperty('canStartLasso', true);\n\n                orderCoordinate(square);\n            } else {\n                let selectableElements = parentFunctions.getSelectablesElements();\n                let selection = parentFunctions.getSelection();\n                let newSelection = [];\n\n                let element = parentFunctions.getSelectableElement(event.target);\n\n                if (element) {\n                    let focusedElementIndex = parentFunctions.getProperty('focusedElementIndex') || selectableElements.indexOf(selection[0]);\n                    parentFunctions.setProperty('focusedElementIndex', focusedElementIndex);\n\n                    if (selection.length > 0) {\n                        let elementIndex = selectableElements.indexOf(element);\n                        let firstIndex = Math.min(focusedElementIndex, elementIndex);\n                        let lastIndex = Math.max(focusedElementIndex, elementIndex);\n                        if (event.ctrlKey) {\n                            selection.forEach(elt => {\n                                let eltIndex = selectableElements.indexOf(elt);\n                                if (eltIndex < firstIndex) {\n                                    firstIndex = eltIndex;\n                                }\n                                if (eltIndex > lastIndex) {\n                                    lastIndex = eltIndex;\n                                }\n                            });\n                        }\n\n                        for (let i = firstIndex; i <= lastIndex; i++) {\n                            newSelection.push(selectableElements[i]);\n                        }\n                    } else {\n                        newSelection.push(element);\n                    }\n\n                    parentFunctions.updateSelection(newSelection);\n                }\n            }\n\n            return true;\n        }\n        return false;\n    },\n    ondblclick: (event, parentFunctions, conf) => {\n        endLasso(parentFunctions, conf);\n        return false;\n    }\n};\n\nexport let documentEvents = {\n    onmousemove: (event, parentFunctions, conf) => {\n        if (parentFunctions.getProperty('canStartLasso')) {\n            let isInLasso = conf.lasso && event.which === 1;\n            parentFunctions.setProperty('isInLasso', isInLasso);\n            if (isInLasso) {\n                if (!event.ctrlKey && !parentFunctions.getProperty('square').isVisble()) {\n                    parentFunctions.updateSelection([]);\n                    parentFunctions.setProperty('focusedElementIndex', null);\n                }\n                refreshLasso(event, parentFunctions, conf);\n                return true;\n            } else {\n                endLasso(parentFunctions, conf);\n            }\n        }\n        return false;\n    }\n};\n\nexport let windowEvents = {\n    onmousedown: (event, parentFunctions, conf) => {\n        clearSelecting(parentFunctions, conf);\n        if (event.which === 1) {\n            if (!event.shiftKey) {\n                let selectableElt = parentFunctions.getSelectableElement(event.target);\n                if (selectableElt) {\n                    let lastSelection = parentFunctions.getSelection();\n                    let index = lastSelection.indexOf(selectableElt);\n                    let newSelection = [selectableElt];\n\n                    if (event.ctrlKey || (conf.isMobileDevice && index !== -1)) {\n                        newSelection = lastSelection;\n                        if (index !== -1) {\n                            newSelection.splice(index, 1);\n                        } else {\n                            newSelection.push(selectableElt);\n                        }\n                    }\n\n                    let selecting = [];\n                    newSelection.forEach(elt => {\n                        selecting.push(elt);\n                        elt.classList.add(conf.eltSelectingClass);\n                    });\n                    parentFunctions.setProperty('selecting', selecting);\n\n                } else if (!event.ctrlKey) {\n                    parentFunctions.updateSelection([]);\n                }\n            }\n        }\n        return false;\n    },\n    onmouseup: (event, parentFunctions, conf) => {\n        if (event.which === 1) {\n            pushSelectingElements(parentFunctions, conf);\n            endLasso(parentFunctions, conf);\n        }\n        return false;\n    }\n};\n\nlet bindMobileDevice = (conf, parentFunctions) => {\n    parentFunctions.getContainer().addEventListener('touchstart', (event) => {\n        let dateStart = new Date();\n        parentFunctions.setProperty('select.startLongPress', dateStart);\n        setTimeout(() => {\n            if (parentFunctions.getProperty('select.startLongPress') === dateStart) {\n                let selection = parentFunctions.getSelection();\n                let eltSelectable = parentFunctions.getSelectableElement(event.target);\n\n                if (eltSelectable) {\n                    const indexElt = selection.indexOf(eltSelectable);\n                    if (indexElt === -1) {\n                        selection.push(eltSelectable);\n                    }\n                    parentFunctions.updateSelection(selection);\n                }\n            }\n        }, conf.longPressDelay);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchend', () => {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n\n    parentFunctions.getContainer().addEventListener('touchmove', () => {\n        parentFunctions.setProperty('select.startLongPress', null);\n    });\n};\n\nlet refreshLasso = (event, parentFunctions, conf) => {\n    let square = parentFunctions.getProperty('square');\n    square.upX = event.pageX + 0;\n    square.upY = event.pageY + 0;\n    parentFunctions.setProperty('square', square);\n\n    orderCoordinate(square);\n\n    selectLassoItems(event.ctrlKey, square, parentFunctions, conf);\n    square.refresh();\n\n};\n\nlet endLasso = (parentFunctions, conf) => {\n    parentFunctions.getProperty('square').remove();\n    parentFunctions.setProperty('canStartLasso', false);\n\n    if (parentFunctions.getProperty('isInLasso')) {\n        parentFunctions.setProperty('isInLasso', false);\n        pushSelectingElements(parentFunctions, conf);\n    }\n}\n\nlet pushSelectingElements = (parentFunctions, conf) => {\n    if (parentFunctions.getProperty('selecting').length) {\n        parentFunctions.updateSelection(parentFunctions.getProperty('selecting'));\n        clearSelecting(parentFunctions, conf);\n    }\n}\n\nlet clearSelecting = (parentFunctions, conf) => {\n    parentFunctions.getProperty('selecting').forEach(elt => {\n        elt.classList.remove(conf.eltSelectingClass);\n    });\n    parentFunctions.setProperty('selecting', []);\n}\n\nlet orderCoordinate = (square) => {\n    // we order coordinate to simplify\n    square.x1 = square.downX;\n    square.x2 = square.upX;\n    square.y1 = square.downY;\n    square.y2 = square.upY;\n    // on part vers la gauche\n    if (square.downX > square.upX) {\n        square.x1 = square.upX;\n        square.x2 = square.downX;\n    }\n\n    // on part vers le haut\n    if (square.downY > square.upY) {\n        square.y1 = square.upY;\n        square.y2 = square.downY;\n    }\n}\n\nlet selectLassoItems = (ctrlKey, square, parentFunctions, conf) => {\n    let mkaElts = parentFunctions.getSelectablesElements();\n\n    let selecting = (ctrlKey) ? parentFunctions.getSelection() : [];\n\n    // on parcourt chaque elt pour savoir s'ils sont dans la zone selectionné\n    mkaElts.forEach(elt => {\n        elt.classList.remove(conf.eltSelectingClass);\n        if (square.isCrossingElt(elt) && (!ctrlKey || selecting.indexOf(elt) === -1)) {\n            selecting.push(elt);\n            elt.classList.add(conf.eltSelectingClass);\n        }\n    });\n    parentFunctions.setProperty('selecting', selecting);\n}\n\nlet elementIsCrossingZone = (elt, x1, y1, x2, y2) => {\n    let rect = elt.getBoundingClientRect();\n    let zoneElt = {\n        x1: elt.offsetBodyLeft(),\n        x2: (elt.offsetBodyLeft() + rect.width),\n        y1: elt.offsetBodyTop(),\n        y2: (elt.offsetBodyTop() + rect.height)\n    };\n    return zoneElt.x2 > x1 && x2 > zoneElt.x1 && zoneElt.y2 > y1 && y2 > zoneElt.y1;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/select.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('copyElts', []);\n}\n\nexport let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n        if (e.which == '67' && e.ctrlKey) {\n            parentFunctions.setProperty('copyElts', parentFunctions.getSelection());\n        } else if (e.which == '86' && e.ctrlKey) {\n            conf.pasteFunction(parentFunctions.getProperty('copyElts'));\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/copyPaste.js","export let onSelectionUpdate = (params) => {\n// si l'élément HTML mka-count existe\n    if (params.selection && params.configs && !!document.getElementById(params.configs.count)) {\n        document.getElementById(params.configs.count).innerHTML = params.selection.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/count.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('arrows.currentFocus', null);\n    parentFunctions.setProperty('arrows.isContainerFocused', false);\n}\n\nexport let onSelectionUpdate = (params) => {\n    let selection = params.selection;\n    let parentFunctions = params.parentFunctions;\n    if (selection && parentFunctions) {\n        if (selection.length > 0) {\n            parentFunctions.setProperty('arrows.lastSelected', selection[selection.length - 1]);\n            if (selection.length === 1) {\n                parentFunctions.setProperty('arrows.currentFocus', selection[0]);\n            } else if (params.actionId !== 'arrows.shift') {\n                parentFunctions.setProperty('arrows.currentFocus', null);\n            }\n        } else {\n            parentFunctions.setProperty('arrows.lastSelected', null);\n            parentFunctions.setProperty('arrows.currentFocus', null);\n        }\n    }\n}\n\nexport let windowEvents = {\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('arrows.isContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    },\n    onkeydown: (event, parentFunctions) => {\n        let code = event.which;\n        //37=left , 38=top , 39=right , 40=bottom\n        if (code == 37 || code == 38 || code == 39 || code == 40) {\n            let lastSelected = parentFunctions.getProperty('arrows.lastSelected');\n\n            if (!lastSelected) {\n                if (parentFunctions.getProperty('arrows.isContainerFocused')) {\n                    let firstElement = parentFunctions.getSelectablesElements()[0];\n                    if (firstElement) {\n                        parentFunctions.updateSelection([firstElement]);\n                    }\n                }\n            } else {\n                event.preventDefault();\n                let centerScroll = (elt) => {\n                    let scrollableContainer = null;\n                    let currentElt = elt\n                    while (!!currentElt.parentNode && !scrollableContainer) {\n                        currentElt = currentElt.parentNode;\n                        if (currentElt.scrollHeight > currentElt.offsetHeight || currentElt.scrollWidth > currentElt.offsetWidth || currentElt === document.body) {\n                            scrollableContainer = currentElt;\n                        }\n                    }\n                    if (scrollableContainer) {\n                        if (scrollableContainer === document.body) {\n                            let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - window.innerHeight) / 2;\n                            let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - window.innerWidth) / 2;\n                            window.scrollTo(scrollX, scrollY);\n                        } else {\n                            let scrollY = elt.offsetBodyTop() - scrollableContainer.offsetBodyTop() + (elt.offsetHeight - scrollableContainer.offsetHeight) / 2;\n                            let scrollX = elt.offsetBodyLeft() - scrollableContainer.offsetBodyLeft() + (elt.offsetWidth - scrollableContainer.offsetWidth) / 2;\n                            scrollableContainer.scrollTop = scrollY;\n                            scrollableContainer.scrollLeft = scrollX;\n                        }\n                        centerScroll(scrollableContainer);\n                    } else {\n                        return false;\n                    }\n                }\n                centerScroll(lastSelected);\n\n                let nextElement = calculateNextElement(lastSelected, code, parentFunctions);\n\n                if (!!nextElement) {\n                    let newSelection = [];\n\n                    if (event.shiftKey && parentFunctions.getProperty('arrows.currentFocus')) {\n                        newSelection = parentFunctions.getSelection();\n                        let index = newSelection.indexOf(nextElement);\n                        if (code == 37 || code == 39) {\n                            if (index === -1) {\n                                newSelection.push(nextElement);\n                            } else {\n                                newSelection.splice(newSelection.length - 1, 1);\n                            }\n                        } else {\n                            let newElements = [];\n                            let searchNextElement = lastSelected;\n                            while (searchNextElement && searchNextElement !== nextElement) {\n                                searchNextElement = calculateNextElement(searchNextElement, (code == 38) ? 37 : 39, parentFunctions);\n                                if (searchNextElement) {\n                                    newElements.push(searchNextElement);\n                                }\n                            }\n                            if (index === -1) {\n                                newSelection = newSelection.concat(newElements);\n                            } else {\n                                newSelection.splice(index + 1);\n                            }\n\n                        }\n                        parentFunctions.updateSelection(newSelection, 'arrows.shift');\n                    } else {\n                        newSelection = [nextElement];\n                        parentFunctions.updateSelection(newSelection);\n                    }\n\n                    centerScroll(nextElement);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n};\n\nlet calculateNextElement = (fromElement, code, parentFunctions) => {\n    let selectablesElements = parentFunctions.getSelectablesElements();\n    let indexElt = selectablesElements.indexOf(fromElement);\n    if (indexElt === -1) {\n        return null;\n    } else if (code === 37) {\n        //left\n        return (selectablesElements[indexElt - 1]) ? selectablesElements[indexElt - 1] : null;\n    } else if (code === 39) {\n        //right\n        return (selectablesElements[indexElt + 1]) ? selectablesElements[indexElt + 1] : null;\n    }\n\n    let interval = 10;\n    let rect = fromElement.getBoundingClientRect();\n    let posX = fromElement.offsetBodyLeft() + rect.width / 2 - fromElement.scrollLeftTotal();\n    let posY = fromElement.offsetBodyTop() + ((code === 40) ? rect.height : 0);\n    let updateY = (code === 40) ? interval : -interval;\n\n    posY = posY + updateY - fromElement.scrollTopTotal();\n\n    let getNextElement = () => {\n        let target = document.elementFromPoint(posX, posY);\n        let selectableElement = parentFunctions.getSelectableElement(target);\n        if (!selectableElement) {\n            if (parentFunctions.isMkaContainerFocused(target)) {\n                posY = posY + updateY;\n                return getNextElement();\n            } else {\n                return null;\n            }\n        }\n        return selectableElement;\n    }\n    let nextElement = getNextElement();\n    return nextElement;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/arrows.js","export let windowEvents = {\n    onkeyup: (e, parentFunctions, conf) => {\n\n        let selection = parentFunctions.getSelection();\n\n        if(e.which == '46' && selection.length > 0 && typeof conf.deleteShortcut === 'function') {\n            conf.deleteShortcut(selection);\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/deleteShortcut.js","export let init = (conf, parentFunctions) => {\n    parentFunctions.setProperty('isMkaContainerFocused', false);\n}\n\nexport let windowEvents = {\n    onkeydown: (e, parentFunctions) => {\n        if (e.ctrlKey) {\n            let code = e.which;\n\n            if ((code === 65 || code === 97) && parentFunctions.getProperty('isMkaContainerFocused')) {\n                let newSelection = parentFunctions.getSelectablesElements();\n\n                parentFunctions.updateSelection(newSelection);\n\n                e.preventDefault();\n                return true;\n            }\n        }\n        return false;\n    },\n    onmousedown: (e, parentFunctions) => {\n        parentFunctions.setProperty('isMkaContainerFocused', parentFunctions.isMkaContainerFocused(e.target));\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/selectAllShortcut.js"],"sourceRoot":""}